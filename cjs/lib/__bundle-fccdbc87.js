"use strict";var e=require("./__bundle-fc47e3f4.js"),s=require("./__bundle-443a5610.js"),t=require("./__bundle-434e9499.js");const n={data:void 0,customType:void 0,mentionType:e.MentionType.USERS,mentionedUserIds:void 0,mentionedUsers:void 0,mentionedMessageTemplate:void 0,metaArrays:void 0,parentMessageId:void 0,isReplyToChannel:!1,pushNotificationDeliveryOption:void 0,appleCriticalAlertOptions:void 0,isPinnedMessage:!1},a=t=>e.isTypeOf("string",t.data,!0)&&e.isTypeOf("string",t.customType,!0)&&e.isEnumOf(e.MentionType,t.mentionType)&&e.isArrayOf("string",t.mentionedUserIds,!0)&&e.isArrayOf(e.User,t.mentionedUsers,!0)&&e.isTypeOf("string",t.mentionedMessageTemplate,!0)&&e.isArrayOf(s.MessageMetaArray,t.metaArrays,!0)&&e.isTypeOf("number",t.parentMessageId,!0)&&e.isTypeOf("boolean",t.isReplyToChannel)&&e.isEnumOf(e.PushNotificationDeliveryOption,t.pushNotificationDeliveryOption,!0)&&e.isTypeOf(s.AppleCriticalAlertOptions,t.appleCriticalAlertOptions,!0)&&e.isTypeOf("boolean",t.isPinnedMessage,!0),i=Object.assign(Object.assign({},n),{message:"",translationTargetLanguages:void 0,pollId:void 0}),r=s=>a(s)&&e.isTypeOf("string",s.message)&&e.isArrayOf("string",s.translationTargetLanguages,!0)&&e.isTypeOf("number",s.pollId,!0);var o;exports.FileType=void 0,(o=exports.FileType||(exports.FileType={})).FILE="file",o.BLOB="blob",o.BLOB_LIKE_OBJECT="blobLikeObject",o.URL="url";const d=Object.assign(Object.assign({},n),{file:void 0,fileKey:void 0,fileUrl:void 0,fileName:void 0,fileType:void 0,fileSize:void 0,mimeType:void 0,thumbnailSizes:void 0,requireAuth:!1}),l=s=>a(s)&&(e.isFile(s.file)||e.isTypeOf("string",s.fileUrl))&&e.isTypeOf("string",s.fileName,!0)&&e.isTypeOf("string",s.mimeType,!0)&&e.isTypeOf("number",s.fileSize,!0)&&(null===s.thumbnailSizes||void 0===s.thumbnailSizes||Array.isArray(s.thumbnailSizes)&&s.thumbnailSizes.every((s=>e.isTypeOf("object",s)&&s.maxWidth>0&&s.maxHeight>0))),u=Object.assign(Object.assign({},n),{fileInfoList:[]}),c=s=>(e.isFile(s.file)||e.isTypeOf("string",s.fileUrl))&&e.isTypeOf("string",s.fileName,!0)&&e.isTypeOf("string",s.mimeType,!0)&&e.isTypeOf("number",s.fileSize,!0)&&(void 0===s.thumbnailSizes||Array.isArray(s.thumbnailSizes)&&s.thumbnailSizes.every((e=>e.maxWidth>0&&e.maxHeight>0)));var h;exports.RestrictionType=void 0,(h=exports.RestrictionType||(exports.RestrictionType={})).MUTED="muted",h.BANNED="banned";class p{constructor(s){var t,n,a,i;this.restrictionType=null,e.isEnumOf(exports.RestrictionType,s.restriction_type)&&(this.restrictionType=s.restriction_type),this.description=null!==(t=s.description)&&void 0!==t?t:null,this.endAt=null!==(a=null!==(n=s.end_at)&&void 0!==n?n:s.muted_end_at)&&void 0!==a?a:-1,this.remainingDuration=null!==(i=s.remaining_duration)&&void 0!==i?i:-1}static payloadify(s){return e.deundefined(e.undefineNullProps({restriction_type:s.restrictionType,description:s.description,end_at:s.endAt,remaining_duration:s.remainingDuration}))}}class m extends e.User{constructor(e,s){super(e,s),this.restrictionInfo=new p(s)}static payloadify(s){return e.deundefined(e.undefineNullProps(Object.assign(Object.assign({},super.payloadify(s)),p.payloadify(s.restrictionInfo))))}}const g={data:void 0,customType:void 0,mentionType:e.MentionType.USERS,mentionedUserIds:void 0,mentionedUsers:void 0,mentionedMessageTemplate:void 0,metaArrays:void 0,pushNotificationDeliveryOption:void 0,appleCriticalAlertOptions:void 0},y=t=>e.isTypeOf("string",t.data,!0)&&e.isTypeOf("string",t.customType,!0)&&e.isEnumOf(e.MentionType,t.mentionType)&&e.isArrayOf("string",t.mentionedUserIds,!0)&&e.isArrayOf(e.User,t.mentionedUsers,!0)&&e.isTypeOf("string",t.mentionedMessageTemplate,!0)&&e.isArrayOf(s.MessageMetaArray,t.metaArrays,!0)&&e.isEnumOf(e.PushNotificationDeliveryOption,t.pushNotificationDeliveryOption,!0)&&e.isTypeOf(s.AppleCriticalAlertOptions,t.appleCriticalAlertOptions,!0),_=Object.assign(Object.assign({},g),{message:void 0,translationTargetLanguages:void 0,pollId:void 0}),f=s=>y(s)&&e.isTypeOf("string",s.message,!0)&&e.isArrayOf("string",s.translationTargetLanguages,!0)&&e.isTypeOf("number",s.pollId,!0),v=Object.assign({},g);class T extends e.APIRequestCommand{constructor({channelUrl:s,channelType:t,token:n,limit:a}){super(),this.method=e.APIRequestMethod.GET,this.path=`${e.getChannelApiPathByType(t)}/${encodeURIComponent(s)}/operators`,this.params={token:n,limit:a}}}class M extends e.APIResponseCommand{constructor(s,t){super(s,t),this.operators=t.operators.map((t=>new e.User(s,t))),this.token=t.next}}class I extends e.ChannelDataListQuery{constructor(e,s,t,n){super(e,s,t,n)}_validate(){return super._validate()}next(){return e.__awaiter(this,void 0,void 0,(function*(){if(this._validate()){if(this._isLoading)throw e.SendbirdError.queryInProgress;{const s=[];if(this._hasNext){this._isLoading=!0;const{requestQueue:s}=e.Vault.of(this._iid),t=new T(Object.assign(Object.assign({},this),{channelUrl:this.channelUrl,token:this._token})),n=yield s.send(t),{operators:a,token:i}=n.as(M);return this._token=i,this._hasNext=!!i,this._isLoading=!1,a}return s}}throw e.SendbirdError.invalidParameters}))}}class E extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,limit:a,token:i}=s;super(),this.method=e.APIRequestMethod.GET,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/mute`,this.params={limit:a,token:i}}}class A extends e.APIResponseCommand{constructor(e,s){super(e,s),this.mutedUsers=[];const{next:t,muted_list:n}=s;this.token=t,n&&n.length>0&&(this.mutedUsers=n.map((s=>new m(e,s))))}}class P extends e.ChannelDataListQuery{constructor(e,s,t,n){super(e,s,t,n)}next(){return e.__awaiter(this,void 0,void 0,(function*(){if(this._validate()){if(this._isLoading)throw e.SendbirdError.queryInProgress;if(this._hasNext){this._isLoading=!0;const{requestQueue:s}=e.Vault.of(this._iid),t=new E(Object.assign(Object.assign({},this),{token:this._token})),n=yield s.send(t),{mutedUsers:a,token:i}=n.as(A);return this._token=i,this._hasNext=!!i,this._isLoading=!1,a}return[]}throw e.SendbirdError.invalidParameters}))}}class U extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,limit:a,token:i}=s;super(),this.method=e.APIRequestMethod.GET,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/ban`,this.params=e.deundefined({limit:a,token:i})}}class C extends e.APIResponseCommand{constructor(e,s){super(e,s),this.bannedUsers=[];const{next:t,banned_list:n}=s;this.token=t,n&&n.length>0&&(this.bannedUsers=n.map((s=>new m(e,s.user))))}}class S extends e.ChannelDataListQuery{constructor(e,s,t,n){super(e,s,t,n)}_validate(){return super._validate()}next(){return e.__awaiter(this,void 0,void 0,(function*(){if(this._validate()){if(this._isLoading)throw e.SendbirdError.queryInProgress;if(this._hasNext){this._isLoading=!0;const{requestQueue:s}=e.Vault.of(this._iid),t=new U(Object.assign(Object.assign({},this),{token:this._token})),n=yield s.send(t),{bannedUsers:a,token:i}=n.as(C);return this._token=i,this._hasNext=!!i,this._isLoading=!1,a}return[]}throw e.SendbirdError.invalidParameters}))}}var O;exports.ReportCategory=void 0,(O=exports.ReportCategory||(exports.ReportCategory={})).SPAM="spam",O.HARASSING="harassing",O.SUSPICIOUS="suspicious",O.INAPPROPRIATE="inappropriate";class w extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,operatorUserIds:a}=s;super(),this.method=e.APIRequestMethod.POST,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/operators`,this.params={operator_ids:a}}}class b extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,operatorUserIds:a}=s;super(),this.method=e.APIRequestMethod.DELETE,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/operators`,this.params={operator_ids:a}}}class R extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,userId:a}=s;super(),this.method=e.APIRequestMethod.GET,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/mute/${a}`}}class q extends e.APIResponseCommand{constructor(e,s){super(e,s),this.isMuted=!1,this.startAt=0,this.endAt=0;const{is_muted:t,start_at:n,end_at:a,remaining_duration:i,description:r}=s;this.isMuted=t,this.startAt=n,this.endAt=a,this.remainingDuration=i,this.description=r}}class x extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,keys:a}=s;super(),this.method=e.APIRequestMethod.GET,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/metadata`,this.params={keys:a,include_ts:!0}}}class L extends e.APIResponseCommand{constructor(e,s){super(e,s);const{metadata:t,ts:n}=s;this.metadata=t,this.ts=n}}class D extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,metadata:a}=s;super(),this.method=e.APIRequestMethod.POST,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/metadata`,this.params={metadata:a,include_ts:!0}}}class N extends e.APIResponseCommand{constructor(e,s){var t,n;super(e,s),this.metaData=null!==(t=s.metadata)&&void 0!==t?t:{},this.ts=null!==(n=s.ts)&&void 0!==n?n:null}}class F extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,metadata:a,upsert:i}=s;super(),this.method=e.APIRequestMethod.PUT,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/metadata`,this.params={metadata:a,include_ts:!0,upsert:null!=i&&i}}}class k extends e.APIResponseCommand{constructor(e,s){super(e,s);const{metadata:t,ts:n}=s;this.metadata=t,this.ts=n}}class V extends e.WebSocketEventCommand{constructor(e,s,t){super(e,"SYEV",t),t.data&&(this.created=t.data.created,this.updated=t.data.updated,this.deleted=t.data.deleted)}}class $ extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,key:a}=s;super(),this.method=e.APIRequestMethod.DELETE,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/metadata/${a}`,this.params={include_ts:!0}}}class j extends e.APIResponseCommand{constructor(e,s){super(e,s);const{ts:t}=s;this.ts=t}}class B extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n}=s;super(),this.method=e.APIRequestMethod.DELETE,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/metadata`,this.params={include_ts:!0}}}class Q extends e.APIResponseCommand{constructor(e,s){super(e,s);const{ts:t}=s;this.ts=t}}class z extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,keys:a}=s;super(),this.method=e.APIRequestMethod.GET,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/metacounter`,this.params={keys:a}}}class G extends e.APIResponseCommand{constructor(e,s){super(e,s),this.metaCounter=s}}class W extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,metaCounter:a}=s;super(),this.method=e.APIRequestMethod.POST,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/metacounter`,this.params={metacounter:a}}}class H extends e.APIResponseCommand{constructor(e,s){super(e,s),this.metaCounter=s}}class K extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,metaCounter:a,upsert:i=!1,mode:r="set"}=s;super(),this.method=e.APIRequestMethod.PUT,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/metacounter`,this.params={metacounter:a,upsert:i,mode:r}}}class Y extends e.APIResponseCommand{constructor(e,s){super(e,s),this.metaCounter=s}}class J extends e.WebSocketEventCommand{constructor(e,s,t){super(e,"SYEV",t),t.data&&(this.created=t.data.created,this.updated=t.data.updated,this.deleted=t.data.deleted)}}class X extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,key:a}=s;super(),this.method=e.APIRequestMethod.DELETE,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/metacounter/${a}`,this.params={}}}class Z extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n}=s;super(),this.method=e.APIRequestMethod.DELETE,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/metacounter`,this.params={}}}class ee extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,userId:a,seconds:i,description:r}=s;super(),this.method=e.APIRequestMethod.POST,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/mute`,this.params={user_id:a,seconds:i,description:r}}}class se extends e.WebSocketEventCommand{constructor(e,s,t){super(e,"SYEV",t),this.user=new m(e,t.data)}}class te extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,userId:a}=s;super(),this.method=e.APIRequestMethod.DELETE,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/mute/${encodeURIComponent(a)}`}}class ne extends e.WebSocketEventCommand{constructor(e,s,t){super(e,"SYEV",t),this.user=new m(e,t.data)}}class ae extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,userId:a,seconds:i,description:r}=s;super(),this.method=e.APIRequestMethod.POST,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/ban`,this.params=e.deundefined({user_id:a,seconds:i,description:r})}}class ie extends e.WebSocketEventCommand{constructor(e,s,t){super(e,"SYEV",t),this.user=new m(e,t.data),t.data.member_count&&(this.memberCount=t.data.member_count),t.data.joined_member_count&&(this.joinedMemberCount=t.data.joined_member_count)}}class re extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,userId:a}=s;super(),this.method=e.APIRequestMethod.DELETE,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/ban/${encodeURIComponent(a)}`}}class oe extends e.WebSocketEventCommand{constructor(e,s,t){super(e,"SYEV",t),this.user=new m(e,t.data)}}class de extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,freezing:a}=s;super(),this.method=e.APIRequestMethod.PUT,this.path=`${e.getChannelApiPathByType(n)}/${encodeURIComponent(t)}/freeze`,this.params={freeze:a}}}class le extends e.WebSocketEventCommand{constructor(e,s,t){super(e,"SYEV",t),this.freeze=t.data.freeze}}class ue extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,category:a,userId:i,description:r}=s;super(),this.method=e.APIRequestMethod.POST,this.path=`${e.getReportApiPathByType(n)}/${encodeURIComponent(t)}`,this.params={report_category:a,reporting_user_id:i,report_description:r}}}class ce extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,category:a,userId:i,offendingUserId:r,description:o}=s;super(),this.method=e.APIRequestMethod.POST,this.path=`${e.API_PATH_REPORT}/users/${r}`,this.params={channel_url:t,channel_type:n===e.ChannelType.OPEN?"open_channels":"group_channels",report_category:a,reporting_user_id:i,report_description:o}}}class he extends e.APIRequestCommand{constructor(s){const{channelUrl:t,channelType:n,category:a,userId:i,offendingUserId:r,messageId:o,description:d}=s;super(),this.method=e.APIRequestMethod.POST,this.path=`${e.getReportApiPathByType(n)}/${encodeURIComponent(t)}/messages/${o}`,this.params={report_category:a,reporting_user_id:i,report_description:d,offending_user_id:r}}}class pe extends e.WebSocketRequestCommand{constructor(s){let t=[];s.mentionType===e.MentionType.USERS&&(s.mentionedUserIds?t=s.mentionedUserIds:s.mentionedUsers&&(t=s.mentionedUsers.map((e=>e.userId)))),super({code:"MESG",ackRequired:!0,payload:e.deundefined(e.undefineNullProps({channel_url:s.channelUrl,message:s.message,data:s.data,custom_type:s.customType,metaarray:s.metaArrays,mention_type:s.mentionType,mentioned_user_ids:t,mentioned_message_template:s.mentionedMessageTemplate,target_langs:s.translationTargetLanguages,push_option:s.pushNotificationDeliveryOption&&s.pushNotificationDeliveryOption!==e.PushNotificationDeliveryOption.DEFAULT?s.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:s.appleCriticalAlertOptions,silent:s.silent,reply_to_channel:s.isReplyToChannel,parent_message_id:s.parentMessageId?s.parentMessageId:null,req_id:s.reqId,poll_id:s.pollId,pin_message:s.isPinnedMessage}))})}}class me extends e.WebSocketEventCommand{constructor(t,n,a){var i,r,o,d;super(t,"MESG",a),this.message=new s.UserMessage(t,a);const{sdkState:l}=e.Vault.of(t);this.isMentioned=e.checkIfMentioned(this.message.mentionType,null!==(o=null!==(i=this.message.mentionedUserIds)&&void 0!==i?i:null===(r=this.message.mentionedUsers)||void 0===r?void 0:r.map((e=>e.userId)))&&void 0!==o?o:[],l.userId),this.forceUpdateLastMessage=null!==(d=a.force_update_last_message)&&void 0!==d&&d}}class ge extends e.WebSocketRequestCommand{constructor(t){let n=null;t.mentionType===e.MentionType.USERS&&(t.mentionedUserIds?n=t.mentionedUserIds:t.mentionedUsers&&(n=t.mentionedUsers.map((e=>e.userId)))),super({code:"MEDI",ackRequired:!0,payload:e.deundefined(e.undefineNullProps({channel_url:t.channelUrl,msg_id:t.messageId,message:t.message,data:t.data,custom_type:t.customType,metaarray:t.metaArrayParams,mention_type:t.mentionType,mentioned_user_ids:n,mentioned_message_template:t.mentionedMessageTemplate,apple_critical_alert_options:t.appleCriticalAlertOptions?s.AppleCriticalAlertOptions.payloadify(t.appleCriticalAlertOptions):null,poll_id:t.pollId}))})}}class ye extends e.WebSocketEventCommand{constructor(t,n,a){var i,r,o,d,l;super(t,"MEDI",a),this.message=new s.UserMessage(t,a);const{sdkState:u}=e.Vault.of(t);this.mentionCountChange=e.calculateMentionCountChange({mentionType:null===(i=a.old_values)||void 0===i?void 0:i.mention_type,mentionedUserIds:null!==(o=null===(r=a.old_values)||void 0===r?void 0:r.mentioned_user_ids)&&void 0!==o?o:[]},e.undefineNullProps({mentionType:this.message.mentionType,mentionedUserIds:null!==(d=this.message.mentionedUserIds)&&void 0!==d?d:null===(l=this.message.mentionedUsers)||void 0===l?void 0:l.map((e=>e.userId))}),u.userId)}}class _e extends e.WebSocketRequestCommand{constructor(s){let t=null;s.mentionType===e.MentionType.USERS&&(s.mentionedUserIds?t=s.mentionedUserIds:s.mentionedUsers&&(t=s.mentionedUsers.map((e=>e.userId)))),super({code:"FEDI",ackRequired:!0,payload:e.deundefined(e.undefineNullProps({channel_url:s.channelUrl,msg_id:s.messageId,data:s.data,custom_type:s.customType,metaarray:s.metaArrayParams,mention_type:s.mentionType,mentioned_user_ids:t,apple_critical_alert_options:s.appleCriticalAlertOptions}))})}}class fe extends e.WebSocketEventCommand{constructor(t,n,a){var i,r,o,d,l;super(t,"FEDI",a),this.message=new s.FileMessage(t,a);const{sdkState:u}=e.Vault.of(t);this.mentionCountChange=e.calculateMentionCountChange({mentionType:null===(i=a.old_values)||void 0===i?void 0:i.mention_type,mentionedUserIds:null!==(o=null===(r=a.old_values)||void 0===r?void 0:r.mentioned_user_ids)&&void 0!==o?o:[]},e.undefineNullProps({mentionType:this.message.mentionType,mentionedUserIds:null!==(d=this.message.mentionedUserIds)&&void 0!==d?d:null===(l=this.message.mentionedUsers)||void 0===l?void 0:l.map((e=>e.userId))}),u.userId)}}class ve extends e.APIRequestCommand{constructor(s){super(),this.method=e.APIRequestMethod.DELETE,this.path=`${e.getChannelApiPathByType(s.channelType)}/${s.channelUrl}/messages/${s.messageId}`}}class Te extends e.WebSocketEventCommand{constructor(e,s,t){super(e,"DELM",t),this.channelUrl=t.channel_url,this.channelType=t.channel_type,this.messageId=Number(t.msg_id)}}class Me extends e.APIRequestCommand{constructor({channelType:s,channelUrl:t,messageId:n,reactionKey:a}){super(),this.method=e.APIRequestMethod.POST,this.path=`${e.getChannelApiPathByType(s)}/${encodeURIComponent(t)}/messages/${n}/reactions`,this.params={reaction:a}}}class Ie extends e.APIResponseCommand{constructor(e,t){super(e,t),this.reactionEvent=new s.ReactionEvent(t)}}class Ee extends e.APIRequestCommand{constructor({channelType:s,channelUrl:t,messageId:n,reactionKey:a}){super(),this.method=e.APIRequestMethod.DELETE,this.path=`${e.getChannelApiPathByType(s)}/${encodeURIComponent(t)}/messages/${n}/reactions`,this.params={reaction:a}}}class Ae extends e.APIResponseCommand{constructor(e,t){super(e,t),this.reactionEvent=new s.ReactionEvent(Object.assign({},t))}}class Pe extends e.APIRequestCommand{constructor({channelType:s,channelUrl:t,messageId:n,translationTargetLanguages:a}){super(),this.method=e.APIRequestMethod.POST,this.path=`${e.getChannelApiPathByType(s)}/${encodeURIComponent(t)}/messages/${encodeURIComponent(n)}/translation`,this.params={target_langs:a}}}class Ue extends e.APIResponseCommand{constructor(e,t){super(e,t),this.message=new s.UserMessage(e,t)}}class Ce extends e.APIRequestCommand{constructor(t){var n;super();let a=[];t.mentionType===e.MentionType.USERS&&(t.mentionedUserIds?a=t.mentionedUserIds:t.mentionedUsers&&(a=t.mentionedUsers.map((e=>e.userId))));const{channelType:i,channelUrl:r}=t;this.method=e.APIRequestMethod.POST,this.path=`${e.getChannelApiPathByType(i)}/${encodeURIComponent(r)}/scheduled_messages`,this.params=e.deundefined(e.undefineNullProps({req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:e.ServerSideMessageType.USER,message:t.message,custom_type:t.customType,data:t.data,mention_type:t.mentionType,mentioned_user_ids:a,sorted_metaarray:null===(n=t.metaArrays)||void 0===n?void 0:n.map((e=>s.MessageMetaArray.payloadify(e))),apple_critical_alert_options:t.appleCriticalAlertOptions?s.AppleCriticalAlertOptions.payloadify(t.appleCriticalAlertOptions):null,target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption}))}}class Se extends e.APIResponseCommand{constructor(e,t){super(e,t),this.message=new s.UserMessage(e,t)}}class Oe extends e.APIRequestCommand{constructor(t){var n;super();let a=[];t.mentionType===e.MentionType.USERS&&(t.mentionedUserIds?a=t.mentionedUserIds:t.mentionedUsers&&(a=t.mentionedUsers.map((e=>e.userId))));const{channelType:i,channelUrl:r}=t;this.method=e.APIRequestMethod.POST,this.path=`${e.getChannelApiPathByType(i)}/${encodeURIComponent(r)}/scheduled_messages`,this.params=e.undefineNullProps({req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:e.ServerSideMessageType.FILE,url:t.fileUrl,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,thumbnails:t.thumbnailSizes?t.thumbnailSizes.map((e=>s.Thumbnail.payloadify(e))):[],custom_type:t.customType,data:t.data,require_auth:t.requireAuth,mention_type:t.mentionType,mentioned_user_ids:a,sorted_metaarray:null===(n=t.metaArrays)||void 0===n?void 0:n.map((e=>s.MessageMetaArray.payloadify(e))),apple_critical_alert_options:t.appleCriticalAlertOptions?s.AppleCriticalAlertOptions.payloadify(t.appleCriticalAlertOptions):null,push_option:t.pushNotificationDeliveryOption})}}class we extends e.APIResponseCommand{constructor(e,t){super(e,t),this.message=new s.FileMessage(e,t)}}class be extends e.APIRequestCommand{constructor({pollId:s,title:t,data:n,allowUserSuggestion:a,allowMultipleVotes:i,closeAt:r}){super(),this.method=e.APIRequestMethod.PUT,this.path=`${e.API_PATH_POLLS}/${encodeURIComponent(s)}`,this.params={title:t,data:n,allow_user_suggestion:a,allow_multiple_votes:i,close_at:r}}}class Re extends e.APIResponseCommand{constructor(s,t){super(s,t),this.poll=new e.Poll(s,t)}}class qe extends e.APIRequestCommand{constructor({pollId:s}){super(),this.method=e.APIRequestMethod.DELETE,this.path=`${e.API_PATH_POLLS}/${encodeURIComponent(s)}`}}class xe extends e.APIRequestCommand{constructor({pollId:s}){super(),this.method=e.APIRequestMethod.PUT,this.path=`${e.API_PATH_POLLS}/${encodeURIComponent(s)}/close`}}class Le extends e.APIResponseCommand{constructor(s,t){super(s,t),this.poll=new e.Poll(s,t)}}class De extends e.APIRequestCommand{constructor({channelUrl:s,channelType:t,pollId:n,optionText:a}){super(),this.method=e.APIRequestMethod.POST,this.path=`${e.API_PATH_POLLS}/${encodeURIComponent(n)}/options`,this.params={channel_url:s,channel_type:t,text:a}}}class Ne extends e.APIResponseCommand{constructor(s,t){super(s,t),this.poll=new e.Poll(s,t)}}class Fe extends e.APIRequestCommand{constructor({pollId:s,pollOptionId:t,optionText:n}){super(),this.method=e.APIRequestMethod.PUT,this.path=`${e.API_PATH_POLLS}/${encodeURIComponent(s)}/options/${encodeURIComponent(t)}`,this.params={text:n}}}class ke extends e.APIResponseCommand{constructor(s,t){super(s,t),this.poll=new e.Poll(s,t)}}class Ve extends e.APIRequestCommand{constructor({pollId:s,pollOptionId:t}){super(),this.method=e.APIRequestMethod.DELETE,this.path=`${e.API_PATH_POLLS}/${encodeURIComponent(s)}/options/${encodeURIComponent(t)}`}}class $e extends e.WebSocketRequestCommand{constructor({reqId:s,channelType:t,channelUrl:n,pollId:a,pollOptionIds:i}){super({code:"VOTE",ackRequired:!0,payload:e.deundefined({req_id:s,channel_type:t===e.ChannelType.OPEN?"open_channels":"group_channels",channel_url:n,poll_id:a,option_ids:i})})}}class je extends e.WebSocketEventCommand{constructor(e,s,n){super(e,"VOTE",n),this.event=new t.PollVoteEvent(n),this.channelUrl=n.channel_url,this.channelType=n.channel_type}}class Be extends e.InstancedObject{constructor(s,t){var n,a,i,r;super(s),this.channelType=e.ChannelType.BASE,this.name="",this.coverUrl="",this.customType="",this.data="",this.isFrozen=!1,this.isEphemeral=!1,this.creator=null,this.createdAt=0,this._messageCollectionLastAccessedAt=0,this.url=t.channel_url,this.name=null!==(n=t.name)&&void 0!==n?n:"",this.coverUrl=null!==(a=t.cover_url)&&void 0!==a?a:"",this.customType=null!==(i=t.custom_type)&&void 0!==i?i:"",this.data=null!==(r=t.data)&&void 0!==r?r:"",this.isFrozen=!!e.isTypeOf("boolean",t.freeze)&&t.freeze,this.isEphemeral=!!e.isTypeOf("boolean",t.is_ephemeral)&&t.is_ephemeral,this.creator=t.created_by?new e.User(this._iid,t.created_by):null,this.createdAt=1e3*t.created_at,t.metadata&&Object.keys(t.metadata).length>0&&t.ts&&(this._cachedMetaData=new Map,Object.keys(t.metadata).forEach((e=>{this._cachedMetaData.set(e,{value:t.metadata[e],isRemoved:!1,updatedAt:t.ts})})))}static payloadify(s){return e.deundefined(e.undefineNullProps(Object.assign(Object.assign({},super.payloadify(s)),{channel_url:s.url,name:s.name,cover_url:s.coverUrl,custom_type:s.customType,data:s.data,freeze:s.isFrozen,is_ephemeral:s.isEphemeral,created_by:s.creator?e.User.payloadify(s.creator):null,created_at:s.createdAt/1e3})))}isGroupChannel(){return this.channelType===e.ChannelType.GROUP}isOpenChannel(){return this.channelType===e.ChannelType.OPEN}get cachedMetaData(){const e={};return this._cachedMetaData?(this._cachedMetaData.forEach(((s,t)=>{s.isRemoved||(e[t]=s.value)})),e):e}get messageCollectionLastAccessedAt(){return this._messageCollectionLastAccessedAt}_updateMessageCollectionLastAccessedAt(){this._messageCollectionLastAccessedAt=Date.now()}_update(s){const t=e.deundefined(s);Object.assign(this,t)}_upsertCachedMetaData(e,s){Object.keys(e).forEach((t=>{this._cachedMetaData||(this._cachedMetaData=new Map);const n=this._cachedMetaData.get(t);(!n||n.updatedAt<=s)&&this._cachedMetaData.set(t,{value:e[t],isRemoved:!1,updatedAt:s})}))}_removeFromCachedMetaData(e,s){this._cachedMetaData&&e.forEach((e=>{const t=this._cachedMetaData.get(e);t&&t.updatedAt<s&&(t.isRemoved=!0,t.updatedAt=s)}))}_generateRequestId(){return`rq-${e.uuid()}`}isIdentical(e){return e&&this.url===e.url}isEqual(s){return e.deepEqual(this,s)}createOperatorListQuery(e={}){return new I(this._iid,this.url,this.channelType,e)}createMutedUserListQuery(e={}){return new P(this._iid,this.url,this.channelType,e)}createBannedUserListQuery(e={}){return new S(this._iid,this.url,this.channelType,e)}createPreviousMessageListQuery(e={}){return new s.PreviousMessageListQuery(this._iid,this.url,this.channelType,e)}addOperators(s){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(e.isArrayOf("string",s)).throw(e.SendbirdError.invalidParameters);const{requestQueue:t}=e.Vault.of(this._iid),n=new w({channelUrl:this.url,channelType:this.channelType,operatorUserIds:s});yield t.send(n)}))}removeOperators(s){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(e.isArrayOf("string",s)).throw(e.SendbirdError.invalidParameters);const{requestQueue:t}=e.Vault.of(this._iid),n=new b({channelUrl:this.url,channelType:this.channelType,operatorUserIds:s});yield t.send(n)}))}getMyMutedInfo(){return e.__awaiter(this,void 0,void 0,(function*(){const{sdkState:s,requestQueue:t}=e.Vault.of(this._iid),n=new R({channelUrl:this.url,channelType:this.channelType,userId:s.userId}),a=yield t.send(n),{isMuted:i,startAt:r,endAt:o,remainingDuration:d,description:l}=a.as(q);return{isMuted:i,startAt:r,endAt:o,remainingDuration:d,description:l}}))}getMetaData(s){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(e.isArrayOf("string",s)).throw(e.SendbirdError.invalidParameters);const{requestQueue:t}=e.Vault.of(this._iid),n=new x({channelUrl:this.url,channelType:this.channelType,keys:s}),a=yield t.send(n),{metadata:i,ts:r}=a.as(L);return this._upsertCachedMetaData(i,r),i}))}getAllMetaData(){return e.__awaiter(this,void 0,void 0,(function*(){const{requestQueue:s}=e.Vault.of(this._iid),t=new x({channelUrl:this.url,channelType:this.channelType,keys:[]}),n=yield s.send(t),{metadata:a,ts:i}=n.as(L);return this._upsertCachedMetaData(a,i),a}))}createMetaData(s){return e.__awaiter(this,void 0,void 0,(function*(){const{requestQueue:t}=e.Vault.of(this._iid),n=new D({channelUrl:this.url,channelType:this.channelType,metadata:s}),a=yield t.send(n),{metaData:i}=a.as(N);return this._upsertCachedMetaData(i,0),i}))}updateMetaData(s,t=!1){return e.__awaiter(this,void 0,void 0,(function*(){const{requestQueue:n}=e.Vault.of(this._iid),a=new F({channelUrl:this.url,channelType:this.channelType,metadata:s,upsert:t}),i=yield n.send(a),{metadata:r,ts:o}=i.as(k);return this._upsertCachedMetaData(r,o),r}))}deleteMetaData(s){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(e.isTypeOf("string",s)).throw(e.SendbirdError.invalidParameters);const{requestQueue:t}=e.Vault.of(this._iid),n=new $({channelUrl:this.url,channelType:this.channelType,key:s}),a=yield t.send(n),{ts:i}=a.as(j);this._removeFromCachedMetaData([s],i)}))}deleteAllMetaData(){return e.__awaiter(this,void 0,void 0,(function*(){const{requestQueue:s}=e.Vault.of(this._iid),t=new B({channelUrl:this.url,channelType:this.channelType}),n=yield s.send(t),{ts:a}=n.as(Q);this._removeFromCachedMetaData([...this._cachedMetaData.keys()],a)}))}getMetaCounters(s){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(e.isArrayOf("string",s)).throw(e.SendbirdError.invalidParameters);const{requestQueue:t}=e.Vault.of(this._iid),n=new z({channelUrl:this.url,channelType:this.channelType,keys:s}),a=yield t.send(n),{metaCounter:i}=a.as(G);return i}))}getAllMetaCounters(){return e.__awaiter(this,void 0,void 0,(function*(){const{requestQueue:s}=e.Vault.of(this._iid),t=new z({channelUrl:this.url,channelType:this.channelType,keys:[]}),n=yield s.send(t),{metaCounter:a}=n.as(G);return a}))}createMetaCounters(s){return e.__awaiter(this,void 0,void 0,(function*(){const{requestQueue:t}=e.Vault.of(this._iid),n=new W({channelUrl:this.url,channelType:this.channelType,metaCounter:s}),a=yield t.send(n),{metaCounter:i}=a.as(H);return i}))}updateMetaCounters(s,t=!1){return e.__awaiter(this,void 0,void 0,(function*(){const{requestQueue:n}=e.Vault.of(this._iid),a=new K({channelUrl:this.url,channelType:this.channelType,metaCounter:s,upsert:t}),i=yield n.send(a),{metaCounter:r}=i.as(Y);return r}))}increaseMetaCounters(s){return e.__awaiter(this,void 0,void 0,(function*(){const{requestQueue:t}=e.Vault.of(this._iid),n=new K({channelUrl:this.url,channelType:this.channelType,metaCounter:s,upsert:!1,mode:"increase"}),a=yield t.send(n),{metaCounter:i}=a.as(Y);return i}))}decreaseMetaCounters(s){return e.__awaiter(this,void 0,void 0,(function*(){const{requestQueue:t}=e.Vault.of(this._iid),n=new K({channelUrl:this.url,channelType:this.channelType,metaCounter:s,upsert:!1,mode:"decrease"}),a=yield t.send(n),{metaCounter:i}=a.as(Y);return i}))}deleteMetaCounter(s){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(e.isTypeOf("string",s)).throw(e.SendbirdError.invalidParameters);const{requestQueue:t}=e.Vault.of(this._iid),n=new X({channelUrl:this.url,channelType:this.channelType,key:s});yield t.send(n)}))}deleteAllMetaCounters(){return e.__awaiter(this,void 0,void 0,(function*(){const{requestQueue:s}=e.Vault.of(this._iid),t=new Z({channelUrl:this.url,channelType:this.channelType});yield s.send(t)}))}muteUser(s,t,n){return e.__awaiter(this,void 0,void 0,(function*(){return this.muteUserWithUserId(s.userId,t,n)}))}muteUserWithUserId(s,t,n){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(e.isTypeOf("string",s)&&e.isTypeOf("number",t,!0)&&e.isTypeOf("string",n,!0)).throw(e.SendbirdError.invalidParameters);const{requestQueue:a}=e.Vault.of(this._iid),i=new ee({channelUrl:this.url,channelType:this.channelType,userId:s,seconds:t,description:n});yield a.send(i)}))}unmuteUser(s){return e.__awaiter(this,void 0,void 0,(function*(){return this.unmuteUserWithUserId(s.userId)}))}unmuteUserWithUserId(s){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(e.isTypeOf("string",s)).throw(e.SendbirdError.invalidParameters);const{requestQueue:t}=e.Vault.of(this._iid),n=new te({channelUrl:this.url,channelType:this.channelType,userId:s});yield t.send(n)}))}banUser(s,t,n){return e.__awaiter(this,void 0,void 0,(function*(){return this.banUserWithUserId(s.userId,t,n)}))}banUserWithUserId(s,t,n){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(e.isTypeOf("string",s)&&e.isTypeOf("number",t,!0)&&e.isTypeOf("string",n,!0)).throw(e.SendbirdError.invalidParameters);const{requestQueue:a}=e.Vault.of(this._iid),i=new ae({channelUrl:this.url,channelType:this.channelType,userId:s,seconds:t,description:n});yield a.send(i)}))}unbanUser(s){return e.__awaiter(this,void 0,void 0,(function*(){return this.unbanUserWithUserId(s.userId)}))}unbanUserWithUserId(s){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(e.isTypeOf("string",s)).throw(e.SendbirdError.invalidParameters);const{requestQueue:t}=e.Vault.of(this._iid),n=new re({channelUrl:this.url,channelType:this.channelType,userId:s});yield t.send(n)}))}freeze(){return e.__awaiter(this,void 0,void 0,(function*(){const{requestQueue:s}=e.Vault.of(this._iid),t=new de({channelUrl:this.url,channelType:this.channelType,freezing:!0});yield s.send(t),this.isFrozen=!0}))}unfreeze(){return e.__awaiter(this,void 0,void 0,(function*(){const{requestQueue:s}=e.Vault.of(this._iid),t=new de({channelUrl:this.url,channelType:this.channelType,freezing:!1});yield s.send(t),this.isFrozen=!1}))}getMessagesByMessageId(t,n){return e.__awaiter(this,void 0,void 0,(function*(){const a=Object.assign(Object.assign({},s.MessageListParamsDefault),n);e.unless(e.isTypeOf("number",t)&&s.validateMessageListParams(a)).throw(e.SendbirdError.invalidParameters);const i=s.MessageManager.of(this._iid);return yield i.getMessagesByMessageId(this.url,this.channelType,t,a)}))}getMessagesByTimestamp(t,n){return e.__awaiter(this,void 0,void 0,(function*(){const a=Object.assign(Object.assign({},s.MessageListParamsDefault),n);e.unless(e.isTypeOf("number",t)&&s.validateMessageListParams(a)).throw(e.SendbirdError.invalidParameters);const i=s.MessageManager.of(this._iid);return yield i.getMessagesByTimestamp(this.url,this.channelType,t,a)}))}getMessageChangeLogsSinceTimestamp(t,n={}){return e.__awaiter(this,void 0,void 0,(function*(){const a=Object.assign(Object.assign({},s.MessageChangeLogsParamsDefault),n);e.unless(e.isTypeOf("number",t)&&s.validateMessageChangeLogsParams(a)).throw(e.SendbirdError.invalidParameters);const i=s.MessageManager.of(this._iid);return yield i.getMessageChangelogs(this.url,this.channelType,t,a)}))}getMessageChangeLogsSinceToken(t,n={}){return e.__awaiter(this,void 0,void 0,(function*(){const a=Object.assign(Object.assign({},s.MessageChangeLogsParamsDefault),n);e.unless(e.isTypeOf("string",t)&&s.validateMessageChangeLogsParams(a)).throw(e.SendbirdError.invalidParameters);const i=s.MessageManager.of(this._iid);return yield i.getMessageChangelogs(this.url,this.channelType,t,a)}))}_createPendingSendableMessagePayload(t,n,a){var i;const{sessionManager:r}=e.Vault.of(this._iid);return e.deundefined(e.undefineNullProps({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:t.parentMessageId,data:t.data,custom_type:t.customType,mention_type:t.mentionType,sorted_metaarray:t.metaArrays?t.metaArrays.map((e=>s.MessageMetaArray.payloadify(e))):null,apple_critical_alert_options:t.appleCriticalAlertOptions?s.AppleCriticalAlertOptions.payloadify(t.appleCriticalAlertOptions):null,created_at:a,user:r.currentUser?s.Sender.payloadify(r.currentUser):null,req_id:n,request_state:e.SendingStatus.PENDING,mentioned_user_ids:t.mentionedUserIds,mentioned_users:null===(i=t.mentionedUsers)||void 0===i?void 0:i.map((s=>e.User.payloadify(s)))}))}_createPendingUserMessage(t,n,a){const i={};if(t.translationTargetLanguages)for(const e of t.translationTargetLanguages)i[e]="";const r=e.deundefined(Object.assign(Object.assign({},this._createPendingSendableMessagePayload(t,n,a)),{type:e.MessageType.USER,message:t.message,translations:i})),o=new s.UserMessage(this._iid,r);return o.messageParams=t,o}_createPendingScheduledUserMessage(e,s,t){const n=this._createPendingUserMessage(e,s,t);return n.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},n}_createPendingFileMessage(t,n,a){var i,r,o,d,l,u;const c=e.deundefined(Object.assign(Object.assign({},this._createPendingSendableMessagePayload(t,n,a)),{type:e.MessageType.FILE,url:t.fileUrl,file:{name:null!==(i=t.fileName)&&void 0!==i?i:null===(r=t.file)||void 0===r?void 0:r.name,size:null!==(o=t.fileSize)&&void 0!==o?o:null===(d=t.file)||void 0===d?void 0:d.size,type:null!==(l=t.mimeType)&&void 0!==l?l:null===(u=t.file)||void 0===u?void 0:u.type,data:t.data},thumbnails:t.thumbnailSizes?t.thumbnailSizes.map((e=>({url:"",width:e.maxWidth,height:e.maxHeight}))):[]})),h=new s.FileMessage(this._iid,c);return h.messageParams=t,h}_createPendingMultipleFilesMessage(t,n,a){const i=e.deundefined(Object.assign(Object.assign({},this._createPendingSendableMessagePayload(t,n,a)),{type:e.MessageType.FILE})),r=new s.MultipleFilesMessage(this._iid,i);return r.messageParams=t,r}_createPendingScheduledFileMessage(e,s,t){const n=this._createPendingFileMessage(e,s,t);return n.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},n}_markMessageAsFailed(s,t,n=!1){s.errorCode=t.code,t.code===e.SendbirdErrorCode.REQUEST_CANCELED||t.code===e.SendbirdErrorCode.FILE_UPLOAD_CANCEL_FAILED?s.sendingStatus=e.SendingStatus.CANCELED:n||(s.sendingStatus=e.SendingStatus.FAILED)}sendUserMessage(s){const t=Object.assign(Object.assign({},i),s);return e.unless(r(t)).throw(e.SendbirdError.invalidParameters),this._sendUserMessage(t)}_sendUserMessage(t,n,a=!1){const{dispatcher:i,requestQueue:r,sessionManager:o}=e.Vault.of(this._iid);let d=null!=n?n:this._generateRequestId();const l=Date.now(),u=new s.MessageRequestHandler;return d||(d=this._generateRequestId()),e.sleep(2).then((()=>{const s=this._createPendingUserMessage(t,d,l);i.dispatch(new e.MessageUpdateEventCommand({messages:[s],source:a?e.MessageEventSource.LOCAL_MESSAGE_RESEND_STARTED:e.MessageEventSource.EVENT_MESSAGE_SENT_PENDING})),e.runAsCallback((()=>e.__awaiter(this,void 0,void 0,(function*(){return u._trigger(s)}))));const n=new pe(Object.assign(Object.assign({},t),{channelUrl:this.url,channelType:this.channelType,reqId:d}));r.send(n).then((s=>{const{message:t}=s.as(me);i.dispatch(new e.MessageUpdateEventCommand({messages:[t],source:e.MessageEventSource.EVENT_MESSAGE_SENT_SUCCESS})),e.runAsCallback((()=>e.__awaiter(this,void 0,void 0,(function*(){return u._trigger(t)}))))})).catch((s=>{if(e.isThrowingOutside(s))throw s;e.sleep(2).then((()=>{const n=this._createPendingUserMessage(t,d,l),{cacheContext:a}=e.Vault.of(this._iid),r=a.localCacheEnabled&&e.isAutoResendableError(s.code);this._markMessageAsFailed(n,s,r),i.dispatch(new e.MessageUpdateEventCommand({messages:[n],source:n.sendingStatus===e.SendingStatus.PENDING?e.MessageEventSource.REQUEST_RESEND_MESSAGE:e.MessageEventSource.EVENT_MESSAGE_SENT_FAILED})),e.runAsCallback((()=>e.__awaiter(this,void 0,void 0,(function*(){return u._triggerFailed(s,n)}))))}))}))})),u}_autoResendUserMessage(t){return e.unless(t instanceof s.UserMessage&&!!t.messageParams).throw(e.SendbirdError.invalidParameters),this._sendUserMessage(t.messageParams,t.reqId)}resendUserMessage(t){var n;return e.__awaiter(this,void 0,void 0,(function*(){e.unless(t instanceof s.UserMessage&&!t.scheduledInfo).throw(e.SendbirdError.invalidParameters);const a=new e.Deferred,i=null!==(n=t.messageParams)&&void 0!==n?n:(s=>{var t;return e.deundefined(e.undefineNullProps({data:s.data,customType:s.customType,mentionType:s.mentionType,mentionedUsers:s.mentionedUsers,mentionedUserIds:s.mentionedUserIds,mentionedMessageTemplate:s.mentionedMessageTemplate,metaArrays:s.metaArrays,pollId:null===(t=s.poll)||void 0===t?void 0:t.id,parentMessageId:s.parentMessageId,appleCriticalAlertOptions:s.appleCriticalAlertOptions,message:s.message,translationTargetLanguages:Object.keys(s.translations)}))})(t);return this._sendUserMessage(i,t.reqId,!0).onFailed((e=>a.reject(e))).onSucceeded((e=>a.resolve(e))),a.promise}))}updateUserMessage(s,t){return e.__awaiter(this,void 0,void 0,(function*(){const n=Object.assign(Object.assign({},_),t);e.unless(e.isTypeOf("number",s)&&f(n)).throw(e.SendbirdError.invalidParameters);const{requestQueue:a}=e.Vault.of(this._iid),i=new ge(Object.assign({channelType:this.channelType,channelUrl:this.url,messageId:s},n)),r=yield a.send(i),{message:o}=r.as(ye);return o}))}copyUserMessage(t,n){var a,i,r;return e.__awaiter(this,void 0,void 0,(function*(){e.unless(t instanceof Be&&n instanceof s.UserMessage&&n.sendingStatus===e.SendingStatus.SUCCEEDED&&this.url===n.channelUrl&&!n.scheduledInfo).throw(e.SendbirdError.invalidParameters),e.unless(!n.poll).throw(e.SendbirdError.notSupportedError);const o=new e.Deferred,d=null!==(a=n.messageParams)&&void 0!==a?a:e.undefineNullProps(Object.assign(Object.assign({},n),{mentionType:n.mentionType,mentionedUserIds:null!==(i=n.mentionedUserIds)&&void 0!==i?i:null===(r=n.mentionedUsers)||void 0===r?void 0:r.map((e=>e.userId)),translationTargetLanguages:Object.keys(n.translations),pushNotificationDeliveryOption:e.PushNotificationDeliveryOption.DEFAULT,parentMessageId:null,isReplyToChannel:!1,isPinnedMessage:!1}));return t._sendUserMessage(d).onSucceeded((e=>{o.resolve(e)})).onFailed((e=>o.reject(e))),o.promise}))}translateUserMessage(t,n){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(t instanceof s.UserMessage&&t.messageId>0&&e.isArrayOf("string",n)).throw(e.SendbirdError.invalidParameters);const{requestQueue:a}=e.Vault.of(this._iid),i=new Pe({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,translationTargetLanguages:n}),r=yield a.send(i),{message:o}=r.as(Ue);return o}))}_createScheduledUserMessage(s,t){const{requestQueue:n}=e.Vault.of(this._iid),a=Date.now(),i=this._generateRequestId();e.sleep(2).then((()=>{const n=this._createPendingScheduledUserMessage(s,i,a);e.runAsCallback((()=>e.__awaiter(this,void 0,void 0,(function*(){return t._trigger(n)}))))}));const r=new Ce(Object.assign({reqId:i,channelType:this.channelType,channelUrl:this.url},s));n.send(r).then((s=>{const{message:n}=s.as(Se);e.runAsCallback((()=>e.__awaiter(this,void 0,void 0,(function*(){return t._trigger(n)}))))})).catch((n=>{if(e.isThrowingOutside(n))throw n;e.sleep(2).then((()=>{const r=this._createPendingScheduledUserMessage(s,i,a);this._markMessageAsFailed(r,n),e.runAsCallback((()=>e.__awaiter(this,void 0,void 0,(function*(){return t._trigger(r)}))))}))}))}sendFileMessage(s){const t=Object.assign(Object.assign({},d),s);return e.unless(l(t)).throw(e.SendbirdError.invalidParameters),this._sendFileMessage(t)}sendMultipleFilesMessage(s){var t;const n=Object.assign(Object.assign({},u),s),i=e.Vault.of(this._iid);e.unless(((s,t=e.DEFAULT_MULTIPLE_FILES_MESSAGE_FILE_COUNT_LIMIT)=>a(s)&&Array.isArray(s.fileInfoList)&&s.fileInfoList.length>=2&&s.fileInfoList.length<=t&&s.fileInfoList.every((e=>c(e))))(n,null===(t=i.appInfo)||void 0===t?void 0:t.multipleFilesMessageFileCountLimit)).throw(e.SendbirdError.invalidParameters);const r=!!s.fileInfoList.find((e=>{const s=i.appInfo.uploadSizeLimit;return e.file instanceof Blob&&e.file.size>s||e.fileSize>s}));return e.unless(!r).throw(e.SendbirdError.fileSizeLimitExceededError),this._sendMultipleFilesMessage(n)}_sendFileMessage(t,n,a=!1){const{dispatcher:i,sessionManager:r}=e.Vault.of(this._iid),{fileMessageQueue:o}=s.MessageManager.of(this._iid);let d=null!=n?n:this._generateRequestId();const l=Date.now(),u=new s.MessageRequestHandler;return d||(d=this._generateRequestId()),e.sleep(2).then((()=>{const s=this._createPendingFileMessage(t,d,l);i.dispatch(new e.MessageUpdateEventCommand({messages:[s],source:a?e.MessageEventSource.LOCAL_MESSAGE_RESEND_STARTED:e.MessageEventSource.EVENT_MESSAGE_SENT_PENDING})),e.runAsCallback((()=>e.__awaiter(this,void 0,void 0,(function*(){return u._trigger(s)})))),o.request(this,d,t).then((s=>{i.dispatch(new e.MessageUpdateEventCommand({messages:[s],source:e.MessageEventSource.EVENT_MESSAGE_SENT_SUCCESS})),e.runAsCallback((()=>e.__awaiter(this,void 0,void 0,(function*(){return u._trigger(s)}))))})).catch((s=>{if(e.isThrowingOutside(s))throw s;e.sleep(2).then((()=>{const n=this._createPendingFileMessage(t,d,l),{cacheContext:a}=e.Vault.of(this._iid),r=a.localCacheEnabled&&e.isAutoResendableError(s.code);this._markMessageAsFailed(n,s,r),i.dispatch(new e.MessageUpdateEventCommand({messages:[n],source:n.sendingStatus===e.SendingStatus.PENDING?e.MessageEventSource.REQUEST_RESEND_MESSAGE:s.code===e.SendbirdErrorCode.FILE_UPLOAD_CANCEL_FAILED?e.MessageEventSource.LOCAL_MESSAGE_CANCELED:e.MessageEventSource.EVENT_MESSAGE_SENT_FAILED})),e.runAsCallback((()=>e.__awaiter(this,void 0,void 0,(function*(){return u._triggerFailed(s,n)}))))}))}))})),u}_autoResendFileMessage(t){e.unless(t instanceof s.FileMessage&&!!t.messageParams).throw(e.SendbirdError.invalidParameters);const{logger:n}=e.Vault.of(this._iid);return n.debug("autoResendFileMessage pending",t),this._sendFileMessage(t.messageParams,t.reqId).onFailed((e=>{n.debug("autoResendFileMessage failed",e)})).onSucceeded((e=>{n.debug("autoResendFileMessage success",e)}))}_sendMultipleFilesMessage(t,n){const{dispatcher:a,sessionManager:i}=e.Vault.of(this._iid),{fileMessageQueue:r}=s.MessageManager.of(this._iid);let o=null!=n?n:this._generateRequestId();const d=Date.now(),l=new s.MultipleFilesMessageRequestHandler;return o||(o=this._generateRequestId()),e.sleep(2).then((()=>{const s=this._createPendingMultipleFilesMessage(t,o,d);a.dispatch(new e.MessageUpdateEventCommand({messages:[s],source:e.MessageEventSource.EVENT_MESSAGE_SENT_PENDING})),e.runAsCallback((()=>e.__awaiter(this,void 0,void 0,(function*(){return l._trigger(s)})))),r.request(this,o,t,l).then((s=>{a.dispatch(new e.MessageUpdateEventCommand({messages:[s],source:e.MessageEventSource.EVENT_MESSAGE_SENT_SUCCESS})),e.runAsCallback((()=>e.__awaiter(this,void 0,void 0,(function*(){return l._trigger(s)}))))})).catch((s=>{if(e.isThrowingOutside(s))throw s;e.sleep(2).then((()=>{const n=this._createPendingMultipleFilesMessage(t,o,d);this._markMessageAsFailed(n,s),a.dispatch(new e.MessageUpdateEventCommand({messages:[n],source:e.MessageEventSource.EVENT_MESSAGE_SENT_FAILED})),e.runAsCallback((()=>e.__awaiter(this,void 0,void 0,(function*(){return l._triggerFailed(s,n)}))))}))}))})),l}_createScheduledFileMessage(s,t,n,a){const{requestQueue:i}=e.Vault.of(this._iid),r=new Oe(Object.assign(Object.assign({reqId:n,channelType:this.channelType,channelUrl:this.url},s),{fileUrl:s.fileUrl,requireAuth:s.requireAuth}));i.send(r).then((s=>{const{message:n}=s.as(we);e.runAsCallback((()=>e.__awaiter(this,void 0,void 0,(function*(){return t._trigger(n)}))))})).catch((i=>{if(e.isThrowingOutside(i))throw i;e.sleep(2).then((()=>{const r=this._createPendingScheduledFileMessage(s,n,a);this._markMessageAsFailed(r,i),e.runAsCallback((()=>e.__awaiter(this,void 0,void 0,(function*(){return t._triggerFailed(i,r)}))))}))}))}sendFileMessages(t){e.unless(t.every((e=>l(Object.assign(Object.assign({},d),e))))).throw(e.SendbirdError.invalidParameters);const n=new s.MessageRequestHandler;for(const e of t)this.sendFileMessage(e).onPending((e=>n._trigger(e))).onFailed(((e,s)=>n._triggerFailed(e,s))).onSucceeded((e=>n._trigger(e)));return n}resendFileMessage(t,n){var a;return e.__awaiter(this,void 0,void 0,(function*(){const i=Boolean(t.url)||e.isFile(n)||e.isFile(null===(a=t.messageParams)||void 0===a?void 0:a.file);e.unless(t instanceof s.FileMessage&&i&&!t.scheduledInfo).throw(e.SendbirdError.invalidParameters);const r=new e.Deferred,o=((s,t)=>{var n;return s.messageParams?(!s.url&&e.isFile(t)&&(s.messageParams.file=t),s.messageParams):e.deundefined(e.undefineNullProps({data:s.data,customType:s.customType,mentionType:s.mentionType,mentionedUsers:s.mentionedUsers,mentionedUserIds:s.mentionedUserIds,metaArrays:s.metaArrays,parentMessageId:s.parentMessageId,appleCriticalAlertOptions:s.appleCriticalAlertOptions,file:t,fileUrl:s.url,fileName:s.name,fileSize:s.size,mimeType:s.type,thumbnailSizes:null===(n=s.thumbnails)||void 0===n?void 0:n.map((e=>({maxWidth:e.width,maxHeight:e.height})))}))})(t,n);return this._sendFileMessage(o,t.reqId,!0).onFailed((e=>r.reject(e))).onSucceeded((e=>r.resolve(e))),r.promise}))}updateFileMessage(s,t){return e.__awaiter(this,void 0,void 0,(function*(){const n=Object.assign(Object.assign({},v),t);e.unless(e.isTypeOf("number",s)&&(e=>y(e))(n)).throw(e.SendbirdError.invalidParameters);const{requestQueue:a}=e.Vault.of(this._iid),i=new _e(Object.assign({channelType:this.channelType,channelUrl:this.url,messageId:s},n)),r=yield a.send(i),{message:o}=r.as(fe);return o}))}cancelUploadingFileMessage(t){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(e.isTypeOf("string",t)).throw(e.SendbirdError.invalidParameters);const{fileMessageQueue:n}=s.MessageManager.of(this._iid);return n.cancel(this,t),!0}))}copyFileMessage(t,n){var a,i,r;return e.__awaiter(this,void 0,void 0,(function*(){e.unless(t instanceof Be&&n instanceof s.FileMessage&&n.sendingStatus===e.SendingStatus.SUCCEEDED&&this.url===n.channelUrl&&!n.scheduledInfo).throw(e.SendbirdError.invalidParameters);const o=new e.Deferred,d=e.undefineNullProps(Object.assign(Object.assign({},n),{fileUrl:n.url,fileName:n.name,fileSize:n.size,mimeType:n.type,mentionType:n.mentionType,mentionedUserIds:null!==(a=n.mentionedUserIds)&&void 0!==a?a:null===(i=n.mentionedUsers)||void 0===i?void 0:i.map((e=>e.userId)),pushNotificationDeliveryOption:e.PushNotificationDeliveryOption.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:null===(r=n.thumbnails)||void 0===r?void 0:r.map((e=>({maxWidth:e.width,maxHeight:e.height}))),requireAuth:n.requireAuth,isPinnedMessage:!1}));return t._sendFileMessage(d).onSucceeded((e=>o.resolve(e))).onFailed((e=>o.reject(e))),o.promise}))}deleteMessage(t){return e.__awaiter(this,void 0,void 0,(function*(){if(e.unless(t instanceof s.BaseMessage).throw(e.SendbirdError.invalidParameters),t.messageId>0){const{requestQueue:s}=e.Vault.of(this._iid),n=new ve({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId});yield s.send(n)}}))}addReaction(t,n){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(t instanceof s.BaseMessage&&t.messageId>0&&e.isTypeOf("string",n)).throw(e.SendbirdError.invalidParameters);const{requestQueue:a}=e.Vault.of(this._iid),i=new Me({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,reactionKey:n}),r=yield a.send(i),{reactionEvent:o}=r.as(Ie);return o}))}deleteReaction(t,n){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(t instanceof s.BaseMessage&&t.messageId>0&&e.isTypeOf("string",n)).throw(e.SendbirdError.invalidParameters);const{requestQueue:a}=e.Vault.of(this._iid),i=new Ee({channelType:this.channelType,channelUrl:this.url,messageId:t.messageId,reactionKey:n}),r=yield a.send(i),{reactionEvent:o}=r.as(Ae);return o}))}_updateUserMessageMetaArray(s,t,n,a){return e.__awaiter(this,void 0,void 0,(function*(){const{dispatcher:i,requestQueue:r}=e.Vault.of(this._iid),o=new ge({channelType:this.channelType,channelUrl:this.url,messageId:s,metaArrayParams:{array:t,mode:n,upsert:a}}),d=yield r.send(o),{message:l}=d.as(ye);return i.dispatch(new e.MessageUpdateEventCommand({messages:[l],source:e.MessageEventSource.EVENT_MESSAGE_UPDATED})),l}))}_updateFileMessageMetaArray(s,t,n,a){return e.__awaiter(this,void 0,void 0,(function*(){const{dispatcher:i,requestQueue:r}=e.Vault.of(this._iid),o=new _e({channelType:this.channelType,channelUrl:this.url,messageId:s,metaArrayParams:{array:t,mode:n,upsert:a}}),d=yield r.send(o),{message:l}=d.as(fe);return i.dispatch(new e.MessageUpdateEventCommand({messages:[l],source:e.MessageEventSource.EVENT_MESSAGE_UPDATED})),l}))}createMessageMetaArrayKeys(t,n){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(t instanceof s.BaseMessage&&t.messageId>0&&e.isArrayOf("string",n)).throw(e.SendbirdError.invalidParameters);const a=n.map((e=>new s.MessageMetaArray({key:e})));return t instanceof s.FileMessage?this._updateFileMessageMetaArray(t.messageId,a,"add",!0):this._updateUserMessageMetaArray(t.messageId,a,"add",!0)}))}deleteMessageMetaArrayKeys(t,n){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(t instanceof s.BaseMessage&&t.messageId>0&&e.isArrayOf("string",n)).throw(e.SendbirdError.invalidParameters);const a=n.map((e=>new s.MessageMetaArray({key:e})));return t instanceof s.FileMessage?this._updateFileMessageMetaArray(t.messageId,a,"remove",!0):this._updateUserMessageMetaArray(t.messageId,a,"remove",!0)}))}addMessageMetaArrayValues(t,n){return e.__awaiter(this,void 0,void 0,(function*(){return e.unless(t instanceof s.BaseMessage&&t.messageId>0&&n.every((e=>e instanceof s.MessageMetaArray))).throw(e.SendbirdError.invalidParameters),t instanceof s.FileMessage?this._updateFileMessageMetaArray(t.messageId,n,"add",!0):this._updateUserMessageMetaArray(t.messageId,n,"add",!0)}))}removeMessageMetaArrayValues(t,n){return e.__awaiter(this,void 0,void 0,(function*(){return e.unless(t instanceof s.BaseMessage&&t.messageId>0&&n.every((e=>e instanceof s.MessageMetaArray))).throw(e.SendbirdError.invalidParameters),t instanceof s.FileMessage?this._updateFileMessageMetaArray(t.messageId,n,"remove",!0):this._updateUserMessageMetaArray(t.messageId,n,"remove",!0)}))}report(s,t){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(e.isEnumOf(exports.ReportCategory,s)&&e.isTypeOf("string",t)).throw(e.SendbirdError.invalidParameters);const{sdkState:n,requestQueue:a}=e.Vault.of(this._iid),i=new ue({channelUrl:this.url,channelType:this.channelType,userId:n.userId,category:s,description:t});yield a.send(i)}))}reportUser(s,t,n){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(s instanceof e.User&&e.isEnumOf(exports.ReportCategory,t)&&e.isTypeOf("string",n)).throw(e.SendbirdError.invalidParameters);const{sdkState:a,requestQueue:i}=e.Vault.of(this._iid),r=new ce({channelUrl:this.url,channelType:this.channelType,userId:a.userId,offendingUserId:s.userId,category:t,description:n});yield i.send(r)}))}reportMessage(t,n,a){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(t instanceof s.SendableMessage&&e.isEnumOf(exports.ReportCategory,n)&&e.isTypeOf("string",a)).throw(e.SendbirdError.invalidParameters);const{sdkState:i,requestQueue:r}=e.Vault.of(this._iid),o=new he({channelUrl:this.url,channelType:this.channelType,userId:i.userId,offendingUserId:t.sender.userId,messageId:t.messageId,category:n,description:a});yield r.send(o)}))}updatePoll(s,t){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(e.isTypeOf("number",s)&&(s=>e.isTypeOf("string",s.title,!0)&&e.validatePollData(s.data)&&e.isTypeOf("boolean",s.allowUserSuggestion,!0)&&e.isTypeOf("boolean",s.allowMultipleVotes,!0)&&e.isTypeOf("number",s.closeAt,!0))(t)).throw(e.SendbirdError.invalidParameters);const{requestQueue:n}=e.Vault.of(this._iid),a=new be(Object.assign({pollId:s},t)),i=yield n.send(a),{poll:r}=i.as(Re);return r}))}deletePoll(s){return e.__awaiter(this,void 0,void 0,(function*(){const t=e.isTypeOf("number",s);e.unless(t).throw(e.SendbirdError.invalidParameters);const{requestQueue:n}=e.Vault.of(this._iid),a=new qe({pollId:s});yield n.send(a)}))}closePoll(s){return e.__awaiter(this,void 0,void 0,(function*(){const t=e.isTypeOf("number",s);e.unless(t).throw(e.SendbirdError.invalidParameters);const{requestQueue:n}=e.Vault.of(this._iid),a=new xe({pollId:s}),i=yield n.send(a),{poll:r}=i.as(Le);return r}))}addPollOption(s,t){return e.__awaiter(this,void 0,void 0,(function*(){const n=e.isTypeOf("number",s)&&e.isTypeOf("string",t)&&""!==t.trim();e.unless(n).throw(e.SendbirdError.invalidParameters);const{requestQueue:a}=e.Vault.of(this._iid),i=new De({channelUrl:this.url,channelType:this.channelType,pollId:s,optionText:t}),r=yield a.send(i),{poll:o}=r.as(Ne);return o}))}updatePollOption(s,t,n){return e.__awaiter(this,void 0,void 0,(function*(){const a=e.isTypeOf("number",s)&&e.isTypeOf("number",t)&&e.isTypeOf("string",n)&&""!==n.trim();e.unless(a).throw(e.SendbirdError.invalidParameters);const{requestQueue:i}=e.Vault.of(this._iid),r=new Fe({pollId:s,pollOptionId:t,optionText:n}),o=yield i.send(r),{poll:d}=o.as(ke);return d}))}deletePollOption(s,t){return e.__awaiter(this,void 0,void 0,(function*(){const n=e.isTypeOf("number",s)&&e.isTypeOf("number",t);e.unless(n).throw(e.SendbirdError.invalidParameters);const{requestQueue:a}=e.Vault.of(this._iid),i=new Ve({pollId:s,pollOptionId:t});yield a.send(i)}))}votePoll(s,t){return e.__awaiter(this,void 0,void 0,(function*(){const n=e.isTypeOf("number",s)&&e.isArrayOf("number",t);e.unless(n).throw(e.SendbirdError.invalidParameters);const{requestQueue:a,dispatcher:i}=e.Vault.of(this._iid),r=new $e({reqId:this._generateRequestId(),channelUrl:this.url,channelType:this.channelType,pollId:s,pollOptionIds:t}),o=yield a.send(r),{event:d}=o.as(je);return i.dispatch(new e.PollVoteInternalEventCommand({event:d,source:e.MessageEventSource.EVENT_POLL_VOTED})),d}))}getPollChangeLogsSinceTimestamp(s){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(e.isTypeOf("number",s)).throw(e.SendbirdError.invalidParameters);const n=t.PollManager.of(this._iid);return yield n.getPollChangeLogs(this.url,this.channelType,s)}))}getPollChangeLogsSinceToken(s){return e.__awaiter(this,void 0,void 0,(function*(){e.unless(e.isTypeOf("string",s,!0));const n=t.PollManager.of(this._iid);return yield n.getPollChangeLogs(this.url,this.channelType,s)}))}createPollListQuery(e=10){return new t.PollListQuery(this._iid,{channelUrl:this.url,channelType:this.channelType,limit:e})}createPollVoterListQuery(e,s,n=20){return new t.PollVoterListQuery(this._iid,{channelUrl:this.url,channelType:this.channelType,pollId:e,pollOptionId:s,limit:n})}}exports.BanUserEventCommand=ie,exports.BannedUserListQuery=S,exports.BaseChannel=Be,exports.BaseMessageCreateParamsDefault=n,exports.BaseMessageUpdateParamsDefault=g,exports.CreateScheduledUserMessageResponseCommand=Se,exports.DEFAULT_GROUPCHANNEL_LIMIT=100,exports.DEFAULT_MESSAGE_LIMIT=100,exports.DeleteMessageEventCommand=Te,exports.FreezeEventCommand=le,exports.MuteUserEventCommand=se,exports.MutedUserListQuery=P,exports.NESTDB_GROUPCHANNEL_COLLECTION_KEY="url",exports.NESTDB_GROUPCHANNEL_COLLECTION_NAME="GroupChannel",exports.NESTDB_MESSAGE_COLLECTION_KEY="messageId",exports.NESTDB_MESSAGE_COLLECTION_NAME="Message",exports.NESTDB_POLL_COLLECTION_KEY="pollId",exports.NESTDB_POLL_COLLECTION_NAME="Poll",exports.OperatorListQuery=I,exports.PENDING_MESSAGE_DELAY=2,exports.PollVoteEventCommand=je,exports.RestrictedUser=m,exports.RestrictionInfo=p,exports.UnbanUserEventCommand=oe,exports.UnmuteUserEventCommand=ne,exports.UpdateFileMessageEventCommand=fe,exports.UpdateMetaCounterEventCommand=J,exports.UpdateMetaDataEventCommand=V,exports.UpdateUserMessageEventCommand=ye,exports.UserMessageCreateParamsDefault=i,exports.UserMessageEventCommand=me,exports.UserMessageUpdateParamsDefault=_,exports.isBlobInstance=e=>"undefined"!=typeof window&&"Blob"in window&&"undefined"!=typeof Blob&&e instanceof Blob,exports.isFileTypeBlob=e=>e===exports.FileType.BLOB||e===exports.FileType.FILE,exports.serializeFileMessageCreateParams=e=>({file:e.file,fileKey:e.fileKey,fileType:e.fileType,isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption}),exports.serializeMultipleFilesMessageCreateParams=s=>e.deundefined({fileInfoList:s.fileInfoList,isReplyToChannel:s.isReplyToChannel,pushNotificationDeliveryOption:s.pushNotificationDeliveryOption}),exports.serializeUserMessageCreateParams=e=>({isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption,pollId:e.pollId}),exports.validateBaseMessageCreateParams=a,exports.validateBaseMessageUpdateParams=y,exports.validateUserMessageCreateParams=r,exports.validateUserMessageUpdateParams=f;
