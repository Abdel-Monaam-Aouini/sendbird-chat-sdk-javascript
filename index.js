import{i as e,a as n,_ as r,E as i,b as o,c as a,A as c,d,e as l,u as h,f,U as p,g,h as _,P as b,j as I,k as E,l as D,S as A,L as M,m as z,n as Q,V as j,o as H,p as G,v as W,C as K,q as V,r as J,s as ee,t as te,w as ne,x as re,y as ie,z as oe,W as se,B as ae,D as ue,F as ce,G as de,H as le,I as he,J as fe,K as pe,M as ve,N as ge,O as _e,Q as me,R as be,T as ye}from"./lib/__bundle-a5600e6c.js";export{Z as CachedChannelInfo,Y as ChannelType,X as CollectionEventSource,C as ConnectionState,a6 as DeviceOsPlatform,L as LocalCacheConfig,$ as LogLevel,a0 as NotificationInfo,T as PushTemplate,N as PushTokenRegistrationState,P as PushTokenType,R as PushTriggerOption,a1 as Role,S as SendbirdChatOptions,q as SendbirdError,a5 as SendbirdPlatform,a4 as SendbirdProduct,a2 as UIKitConfigInfo,U as User,a3 as UserOnlineState}from"./lib/__bundle-a5600e6c.js";import{N as we,a as Ie,b as ke,c as Ce,g as Se,M as Te,d as Ee,e as Ue,f as Pe,h as De,i as Oe,j as Ae,k as Le,A as Ne,I as Me,l as Re,U as ze,C as Qe,m as je,B as Fe,F as qe,n as He,S as xe,o as Ge,p as We,q as Be,r as Ke}from"./lib/__bundle-1edafb8c.js";export{m as ApplicationUserListQuery,s as BannedUserListQuery,t as BaseChannel,B as BlockedUserListQuery,C as ConnectionHandler,F as FriendListQuery,k as MemoryStore,u as MutedUserListQuery,O as OperatorListQuery,P as Participant,v as Plugin,R as ReportCategory,w as RestrictedUser,x as RestrictionInfo,y as RestrictionType,S as SessionHandler,U as UserEventHandler}from"./lib/__bundle-1edafb8c.js";import{PollModule as Ve}from"./poll.js";import{g as Je,G as Xe,A as Ye,U as Ze,a as $e,b as et,D as tt,R as nt}from"./lib/__bundle-2a18997f.js";import{g as rt,N as it}from"./lib/__bundle-f475d1ef.js";import"./lib/__bundle-c336221f.js";var ot=function(e){this.key=e.key,this.url=e.url},st=function(e){this.id=e.id,this.name=e.name,this.url=e.url,this.emojis=e.emojis?e.emojis.map((function(e){return new ot(e)})):[]},at=function(e){this.emojiHash=e.emoji_hash||"",this.emojiCategories=e.emoji_categories?e.emoji_categories.map((function(e){return new st(e)})):[]},ut={profileImage:void 0,profileUrl:void 0,nickname:void 0},ct=function(e){return{v2:e.commitSchema([{collectionName:we,keyName:Ie,index:[Je(Xe.LATEST_LAST_MESSAGE),Je(Xe.CHRONOLOGICAL),Je(Xe.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:ke,keyName:Ce,index:[Se(Te.CHANNEL_LATEST),Se(Te.NEWEST_CHILD_MESSAGE)]},{collectionName:Ee,keyName:Ue,index:[Se(Te.CHANNEL_LATEST),Se(Te.NEWEST_CHILD_MESSAGE)]},{collectionName:Pe,keyName:De}]),v3:e.commitSchema([{collectionName:Oe,keyName:Ae,index:[rt("latest_last_message")]}])}},dt=function(e){return function(t,n){switch(t){case 1:e.clear().then((function(){ct(e).v2.then((function(){return n()})).catch((function(e){return n(e)}))})).catch((function(e){return n(e)}));break;case 2:ct(e).v3.then((function(){return n()})).catch((function(e){return n(e)}));break;default:n()}}},lt=function(){return"undefined"!=typeof document?document.visibilityState:"visible"},ht=function(e){function t(t){var n=t.getVisibilityState,r=void 0===n?lt:n,i=t.initialState,o=void 0===i?"visible":i,s=t.isEnabled,a=void 0===s||s,u=t.pauseCheckDelay,c=void 0===u?3e4:u,d=e.call(this)||this;return d._pauseCheckDelay=3e4,d._currentState="visible",d._getVisibilityState=r,d._pauseCheckDelay=c,d._currentState=o,d._isEnabled=a,d._boundToggleState=d._toggleState.bind(d),d}return r(t,e),Object.defineProperty(t.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAvailable",{get:function(){return"undefined"!=typeof window&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),t.prototype._toggleState=function(){var e=this,t=this._getVisibilityState();"hidden"!==t?"hidden"===this._currentState&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=void 0),this.dispatch("resume")):"hidden"!==this._currentState&&(this._pauseDelayTimer=setTimeout((function(){e._pauseDelayTimer=void 0,e.dispatch("pause")}),this._pauseCheckDelay)),this._currentState=t},t.prototype.start=function(){this._isEnabled&&this.isAvailable&&(this._boundToggleState=this._toggleState.bind(this),window.addEventListener("visibilitychange",this._boundToggleState,{capture:!0}))},t.prototype.stop=function(){this._isEnabled&&this.isAvailable&&this._boundToggleState&&window.removeEventListener("visibilitychange",this._boundToggleState,{capture:!0})},t}(i),ft=function(){function e(e){var t=e.logger,n=e.connectionDelegate,r=void 0===n?null:n,i=this;this._onlineWorker=function(){var e;return null===(e=i.connectionDelegate)||void 0===e?void 0:e.reconnect()},this._offlineWorker=function(){var e;return null===(e=i.connectionDelegate)||void 0===e?void 0:e.disconnect()},this.unsubscribes=[],this._onlineListener=function(e){if(i.isAvailableOnWeb)return window.addEventListener("online",e),function(){return window.removeEventListener("online",e,!1)}},this._offlineListener=function(e){if(i.isAvailableOnWeb)return window.addEventListener("offline",e),function(){return window.removeEventListener("offline",e,!1)}},this.logger=t,r&&(this.connectionDelegate=r)}return Object.defineProperty(e.prototype,"isAvailableOnWeb",{get:function(){return"undefined"!=typeof window&&!!window.addEventListener&&"ononline"in window&&"onoffline"in window&&"undefined"!=typeof navigator&&void 0!==navigator.onLine},enumerable:!1,configurable:!0}),e.prototype.setOnlineListener=function(e){Boolean(e)&&"function"==typeof e&&(this._onlineListener=e)},e.prototype.setOfflineListener=function(e){Boolean(e)&&"function"==typeof e&&(this._offlineListener=e)},e.prototype.start=function(){this.unsubscribes=[this._onlineListener(this._onlineWorker),this._offlineListener(this._offlineWorker)]},e.prototype.stop=function(){var e=this;this.unsubscribes.forEach((function(t){try{null==t||t()}catch(t){e.logger.warn(t.message)}})),this.unsubscribes=[]},e.prototype.isOnline=function(){return o(this,void 0,void 0,(function(){return a(this,(function(e){return this.isAvailableOnWeb?[2,navigator.onLine]:[2,new Promise((function(e){fetch("https://www.google.com",{method:c.GET,mode:"no-cors"}).then((function(){return e(!0)})).catch((function(){return e(!1)}))}))]}))}))},e}(),pt=function(e){function t(t){var n=t.userId,r=t.nickname,i=t.profileUrl,o=t.profileImage,s=t.preferredLanguages,a=e.call(this)||this;return a.method=c.PUT,a.path="".concat(d,"/").concat(encodeURIComponent(n)),a.params=l(h({nickname:r,profile_url:i,profile_file:o,preferred_languages:s})),a}return r(t,e),t}(f),vt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.user=new p(t,g({},n)),r}return r(t,e),t}(_),gt=function(e){function t(t){var n=t.userId,r=t.token,i=e.call(this)||this;return i.method=c.POST,i.path="".concat(d,"/").concat(encodeURIComponent(n),"/push/apns"),i.params={apns_device_token:r,always_push:!0},i}return r(t,e),t}(f);!function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.token=n.token,r.type=n.type?b[n.type.toLowerCase()]:b.UNKNOWN,r.user=new p(t,n.user),r}r(t,e)}(_);var _t=function(e){function t(t){var n=t.userId,r=t.token,i=e.call(this)||this;return i.method=c.POST,i.path="".concat(d,"/").concat(encodeURIComponent(n),"/push/gcm"),i.params={gcm_reg_token:r,always_push:!0},i}return r(t,e),t}(f);!function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.token=n.token,r.type=n.type?b[n.type.toLowerCase()]:b.UNKNOWN,r.user=new p(t,n.user),r}r(t,e)}(_);var mt=function(e){function t(t){var n=t.userId,r=t.token,i=e.call(this)||this;return i.method=c.DELETE,i.path="".concat(d,"/").concat(encodeURIComponent(n),"/push/apns/").concat(encodeURIComponent(r)),i}return r(t,e),t}(f);!function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.token=n.token,r.user=new p(t,n.user),r.lastDeletedAt=n.device_token_last_deleted_at,r}r(t,e)}(_);var bt=function(e){function t(t){var n=t.userId,r=t.token,i=e.call(this)||this;return i.method=c.DELETE,i.path="".concat(d,"/").concat(encodeURIComponent(n),"/push/gcm/").concat(encodeURIComponent(r)),i}return r(t,e),t}(f);!function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.token=n.token,r.user=new p(t,n.user),r.lastDeletedAt=n.device_token_last_deleted_at,r}r(t,e)}(_);var yt=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=c.DELETE,r.path="".concat(d,"/").concat(encodeURIComponent(n),"/push/apns"),r}return r(t,e),t}(f);!function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type=n.type?b[n.type.toLowerCase()]:b.UNKNOWN,r.user=new p(t,n.user),r.lastDeletedAt=n.device_token_last_deleted_at,r}r(t,e)}(_);var wt=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=c.DELETE,r.path="".concat(d,"/").concat(encodeURIComponent(n),"/push/gcm"),r}return r(t,e),t}(f);!function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type=n.type?b[n.type.toLowerCase()]:b.UNKNOWN,r.user=new p(t,n.user),r.lastDeletedAt=n.device_token_last_deleted_at,r}r(t,e)}(_);var It=function(e){function t(t){var n=t.userId,r=t.type,i=t.token,o=t.ts,s=e.call(this)||this;return s.method=c.GET,s.path="".concat(d,"/").concat(encodeURIComponent(n),"/push/").concat(encodeURIComponent(r),"/device_tokens"),s.params={created_ts:o,token:i},s}return r(t,e),t}(f),kt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.pushTokens={type:n.type?b[n.type.toLowerCase()]:b.UNKNOWN,deviceTokens:n.device_tokens,hasMore:n.has_more,token:n.token},r}return r(t,e),t}(_),Ct=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=c.GET,r.path="".concat(d,"/").concat(encodeURIComponent(n),"/channel_invitation_preference"),r}return r(t,e),t}(f),St=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.autoAccept=n.auto_accept,r}return r(t,e),t}(_),Tt=function(e){function t(t){var n=t.userId,r=t.willAutoAccept,i=e.call(this)||this;return i.method=c.PUT,i.path="".concat(d,"/").concat(encodeURIComponent(n),"/channel_invitation_preference"),i.params={auto_accept:r},i}return r(t,e),t}(f),Et=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.autoAccept=n.auto_accept,r}return r(t,e),t}(_),Ut=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=c.GET,r.path="".concat(d,"/").concat(encodeURIComponent(n),"/push_preference"),r}return r(t,e),t}(f),Pt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.preference={doNotDisturbOn:n.do_not_disturb,startHour:n.start_hour,startMin:n.start_min,endHour:n.end_hour,endMin:n.end_min,timezone:n.timezone},r}return r(t,e),t}(_),Dt=function(e){function t(t){var n=t.userId,r=t.doNotDisturbOn,i=t.startHour,o=t.startMin,s=t.endHour,a=t.endMin,u=t.timezone,l=e.call(this)||this;return l.method=c.PUT,l.path="".concat(d,"/").concat(encodeURIComponent(n),"/push_preference"),l.params={do_not_disturb:r,start_hour:i,start_min:o,end_hour:s,end_min:a,timezone:u},l}return r(t,e),t}(f),Ot=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.preference={doNotDisturbOn:n.do_not_disturb,startHour:n.start_hour,startMin:n.start_min,endHour:n.end_hour,endMin:n.end_min,timezone:n.timezone},r}return r(t,e),t}(_),At=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=c.GET,r.path="".concat(d,"/").concat(encodeURIComponent(n),"/push_preference"),r}return r(t,e),t}(f),Lt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.snoozePeriod={isSnoozeOn:n.snooze_enabled},"number"==typeof n.snooze_start_ts&&(r.snoozePeriod.startTs=n.snooze_start_ts),"number"==typeof n.snooze_end_ts&&(r.snoozePeriod.endTs=n.snooze_end_ts),r}return r(t,e),t}(_),Nt=function(e){function t(t){var n=t.userId,r=t.snoozeOn,i=t.startTs,o=t.endTs,s=e.call(this)||this;return s.method=c.PUT,s.path="".concat(d,"/").concat(encodeURIComponent(n),"/push_preference"),s.params={snooze_enabled:r,snooze_start_ts:i,snooze_end_ts:o},s}return r(t,e),t}(f),Mt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.snoozePeriod={isSnoozeOn:n.snooze_enabled},"number"==typeof n.snooze_start_ts&&(r.snoozePeriod.startTs=n.snooze_start_ts),"number"==typeof n.snooze_end_ts&&(r.snoozePeriod.endTs=n.snooze_end_ts),r}return r(t,e),t}(_),Rt=function(e){function t(t){var n=t.userId,r=t.blockedUserId,i=e.call(this)||this;return i.method=c.POST,i.path="".concat(d,"/").concat(encodeURIComponent(n),"/block"),i.params={target_id:r},i}return r(t,e),t}(f);!function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.user=new p(t,n),r}r(t,e)}(_);var zt=function(e){function t(t){var n=t.userId,r=t.unblockedUserId,i=e.call(this)||this;return i.method=c.DELETE,i.path="".concat(d,"/").concat(encodeURIComponent(n),"/block/").concat(encodeURIComponent(r)),i}return r(t,e),t}(f);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e)}(_);var Qt=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=c.GET,r.path="".concat(d,"/").concat(encodeURIComponent(n),"/push_preference"),r}return r(t,e),t}(f),jt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.pushTriggerOption=n.push_trigger_option,r}return r(t,e),t}(_),Ft=function(e){function t(t){var n=t.userId,r=t.pushTriggerOption,i=e.call(this)||this;return i.method=c.PUT,i.path="".concat(d,"/").concat(encodeURIComponent(n),"/push_preference"),i.params={push_trigger_option:r},i}return r(t,e),t}(f),qt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.pushTriggerOption=n.push_trigger_option,r}return r(t,e),t}(_),Ht=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=c.GET,r.path="".concat(d,"/").concat(encodeURIComponent(n),"/push/template"),r}return r(t,e),t}(f),xt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=n.name,r}return r(t,e),t}(_),Gt=function(e){function t(t){var n=t.userId,r=t.templateName,i=e.call(this)||this;return i.method=c.PUT,i.path="".concat(d,"/").concat(encodeURIComponent(n),"/push/template"),i.params={name:r},i}return r(t,e),t}(f),Wt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=n.name,r}return r(t,e),t}(_),Bt=function(e){function t(t){var n=t.userId,r=t.token,i=e.call(this)||this;return i.method=c.GET,i.path="".concat(d,"/").concat(encodeURIComponent(n),"/friends/changelogs"),i.params={token:r},i}return r(t,e),t}(f),Kt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.changelogs={addedUsers:n.added.map((function(e){return new p(t,e)})),updatedUsers:n.updated.map((function(e){return new p(t,e)})),deletedUserIds:n.deleted,hasMore:n.has_more,token:n.next},r}return r(t,e),t}(_),Vt=function(e){function t(t){var n=t.userId,r=t.discoveries,i=e.call(this)||this;return i.method=c.PUT,i.path="".concat(d,"/").concat(encodeURIComponent(n),"/friend_discoveries"),i.params={friend_discoveries:r.map((function(e){return{friend_discovery_key:e.friendDiscoveryKey,friend_name:e.friendName}}))},i}return r(t,e),t}(f),Jt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.friendDiscoveryRequestId=n.friend_discovery_request_id,r}return r(t,e),t}(_),Xt=function(e){function t(t){var n=t.userId,r=t.discoveryKeys,i=e.call(this)||this;return i.method=c.DELETE,i.path="".concat(d,"/").concat(encodeURIComponent(n),"/friend_discoveries"),i.params={friend_discovery_keys:r},i}return r(t,e),t}(f);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e)}(_);var Yt=function(e){function t(t){var n=t.userId,r=t.userIds,i=e.call(this)||this;return i.method=c.POST,i.path="".concat(d,"/").concat(encodeURIComponent(n),"/friends"),i.params={user_ids:r},i}return r(t,e),t}(f),Zt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.users=n.users.map((function(e){return new p(t,e)})),r}return r(t,e),t}(_),$t=function(e){function t(t){var n=t.userId,r=t.userIds,i=e.call(this)||this;return i.method=c.DELETE,i.path="".concat(d,"/").concat(encodeURIComponent(n),"/friends"),i.params={user_ids:r},i}return r(t,e),t}(f);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e)}(_);var en=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=c.GET,r.path="".concat(d,"/").concat(n,"/allow_friend_discovery"),r.params={},r}return r(t,e),t}(f),tn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.allowFriendDiscovery=n.allow_friend_discovery,r}return r(t,e),t}(_),nn=function(e){function t(t){var n=t.userId,r=t.allowFriendDiscovery,i=e.call(this)||this;return i.method=c.PUT,i.path="".concat(d,"/").concat(n,"/allow_friend_discovery"),i.params={allow_friend_discovery:r},i}return r(t,e),t}(f);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e)}(_);var rn,on=function(e){function t(){var t=e.call(this)||this;return t.method=c.GET,t.path=I,t}return r(t,e),t}(f),sn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.emojiContainer=new at(n),r}return r(t,e),t}(_),an=function(e){function t(t){var n=t.categoryId,r=e.call(this)||this;return r.method=c.GET,r.path="".concat(I,"/").concat(n),r}return r(t,e),t}(f),un=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.emojiCategory=new st(n),r}return r(t,e),t}(_),cn=function(e){function t(t){var n=t.key,r=e.call(this)||this;return r.method=c.GET,r.path="".concat(E,"/").concat(n),r}return r(t,e),t}(f),dn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.emoji=new ot(n),r}return r(t,e),t}(_),ln=function(e){function t(){var t=e.call(this)||this;return t.method=c.GET,t.path="".concat(D),t}return r(t,e),t}(f),hn=function(e){function t(t,n){var r,i=this,o=null!=n?n:{};return(i=e.call(this,t,n)||this).uikitConfiguration={string:JSON.stringify(o),json:o},i.updatedAt=null!==(r=null==n?void 0:n.updated_at)&&void 0!==r?r:0,i}return r(t,e),t}(_),fn=function(){function t(e,t,n){var r=this;this._storeInitialized=!1,this._iid=e,this.options=t;var i=j.of(e),s=i.sdkState,u=i.cacheContext,c=i.dispatcher,d=i.sessionManager,l=i.requestQueue,h=i.logger,f=i.userEventHandlers,p=i.appStateToggleEnabled;this._onlineDetector=new ft({logger:h,connectionDelegate:{reconnect:function(){var t=j.of(e),n=t.sdkState,r=t.connectionManager,i=t.sessionManager;i.session.hasSession?"foreground"===n.appState&&r.resetAndReconnect():r.connect(i.session.authToken),c.dispatch(new it)},disconnect:function(){j.of(e).connectionManager.disconnect()}}});var v=new Ye(e,{localCacheEnabled:u.localCacheEnabled,enableAutoResend:u.localCacheConfig.enableAutoResend,dispatcher:c,sdkState:s,logger:h});n.forEach((function(t){t.init(e,{sdkState:s,cacheContext:u,dispatcher:c,sessionManager:d,requestQueue:l,logger:h,onlineDetector:r._onlineDetector}),r[t.name]=t})),this._appStateChangeDetector=new ht({isEnabled:p}),this._appStateChangeDetector.on("resume",(function(){h.debug("the page resumes from freeze"),r.setForegroundState()})).on("pause",(function(){h.debug("the page freezes"),r.setBackgroundState()})),c.on((function(t){var n;if(t instanceof ie){if(t.stateType===oe.CONNECTED)v.processNonAutoResendRegisteredPendingMessages()}else if(t instanceof se){if("USEV"===t.code){var i=t.as(Ze).event;if(i.category===$e.FRIEND_DISCOVERED){var c=et.getDataAsFriendDiscoveredEvent(e,i).friendDiscoveries;ae((function(){return o(r,void 0,void 0,(function(){return a(this,(function(e){return[2,f.forEach((function(e){e.onFriendsDiscovered&&e.onFriendsDiscovered(c)}))]}))}))}))}}}else if(t instanceof ue){var d=j.of(r._iid).subscribedUnreadMessageCount,l=!1,p=t.ts;if("number"==typeof p&&p>d.ts){if(d.all!==t.all&&(l=!0),d.all=t.all>=0?t.all:0,t.customTypes)for(var g in t.customTypes)d.customTypes[g]!==t.customTypes[g]&&(l=!0),d.customTypes[g]=t.customTypes[g];l=l&&d.ts>0,d.ts=p}l&&ae((function(){return o(r,void 0,void 0,(function(){return a(this,(function(e){return[2,f.forEach((function(e){e.onTotalUnreadMessageCountChanged&&e.onTotalUnreadMessageCountChanged({groupChannelCount:d.all,feedChannelCount:d.feed,customTypeUnreadCount:d.customTypes}),e.onTotalUnreadMessageCountUpdated&&e.onTotalUnreadMessageCountUpdated(d.all,d.customTypes)}))]}))}))}))}else t instanceof ce?(u.preference.set(r._getUserProfileCacheKey(s.userId),de.payloadify(t.userProfile)),(null===(n=t.userProfile.appInfo.notificationInfo)||void 0===n?void 0:n.isEnabled)&&u.preference.set(le(r.appId),{value:!0})):t instanceof he&&t.error&&t.error.isSessionInvalidatedError&&(h.debug("session revoked."),r.disconnect())}))}return t.init=function(e){var n=e.appId,r=e.appVersion,i=e.modules,o=void 0===i?[]:i,s=e.options,a=void 0===s?new A:s,u=e.debugMode,c=void 0!==u&&u,d=e.customApiHost,l=e.customWebSocketHost,h=e.newInstance,f=void 0!==h&&h,p=e.logLevel,v=e.localCacheEnabled,g=void 0!==v&&v,_=e.localCacheConfig,m=void 0===_?new M:_,b=e.localCacheEncryption,y=e.useAsyncStorageStore,w=void 0===y?null:y,I=e.appStateToggleEnabled,k=void 0===I||I;if(!rn||f){var C="su-".concat(z()),S=null!=b?b:{encrypt:function(e){return e},decrypt:function(e){return e}},T=new Le({encryption:S});c||(T=Q()?w?new Ne({AsyncStorage:w,encryption:S}):new Le({encryption:S}):new Me({encryption:S})),new j(C,{appId:n,appVersion:r,options:a,apiHost:null!=d?d:"https://api-".concat(n,".sendbird.com"),websocketHost:null!=l?l:"wss://ws-".concat(n,".sendbird.com"),store:T,encryption:S,logLevel:p,localCacheEnabled:g,localCacheConfig:m,debugMode:c,appStateToggleEnabled:k});var E=[new Re,new Ve],U=new t(C,a,H(H([],G(o),!1),G(E),!1));return rn||(rn=U),U}return rn},Object.defineProperty(t,"instance",{get:function(){return rn},enumerable:!1,configurable:!0}),Object.defineProperty(t,"version",{get:function(){return W},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"appId",{get:function(){return j.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"appInfo",{get:function(){var e=j.of(this._iid).appInfo;return null!=e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"appVersion",{get:function(){var e;return null!==(e=j.of(this._iid).sdkState.appVersion)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugMode",{get:function(){return!!j.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logLevel",{get:function(){return j.of(this._iid).logger.level},set:function(e){j.of(this._iid).logger.level=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCacheEnabled",{get:function(){return j.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheConfig",{get:function(){var e=j.of(this._iid).cacheContext;return e.localCacheEnabled?e.localCacheConfig:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ekey",{get:function(){return j.of(this._iid).sessionManager.ekey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentUser",{get:function(){var e;return null!==(e=j.of(this._iid).sessionManager.currentUser)&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connectionState",{get:function(){var e=j.of(this._iid).connectionManager;return e.isConnected?K.OPEN:e.isConnecting?K.CONNECTING:K.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastConnectedAt",{get:function(){var e=j.of(this._iid),t=e.connectedAt;return e.connectionManager.isConnected?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fcmPushToken",{get:function(){var e;return null!==(e=this._fcmPushToken)&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"apnsPushToken",{get:function(){var e;return null!==(e=this._apnsPushToken)&&void 0!==e?e:null},enumerable:!1,configurable:!0}),t.prototype._getNestDBVersion=function(){return 3},t.prototype._getPreferenceCacheKey=function(e){return"sendbird@".concat(this.appId,"/").concat(e,".pref")},t.prototype._getUserProfileCacheKey=function(e){return"sendbird@".concat(this.appId,"/").concat(e,".profile")},t.prototype.getMemoryStoreForDebugging=function(){var e=j.of(this._iid),t=e.debugMode,n=e.cacheContext;if(t)return n.store instanceof Le?n.store:null;throw V.debugModeRequired},t.prototype.addExtension=function(e,t){var n=j.of(this._iid).sdkState;["sb_uikit","sb_syncmanager","device-os-platform"].indexOf(e)>-1&&n.extensions&&(n.extensions[e]=t)},t.prototype.addSendbirdExtensions=function(e,t,n){var r,i,o=j.of(this._iid),s=o.logger,a=o.sdkState,u=new RegExp(fe);if(0===e.length)return s.debug("sb.addSendbirdExtensions() has failed because the given sendbirdExtensions is empty."),!1;if(e.find((function(e){return!u.test(e.version)})))return s.debug("sb.addSendbirdExtensions() has failed because the given version did not satisfy the SemVer specification."),!1;if(n)try{for(var c=J(Object.entries(n)),d=c.next();!d.done;d=c.next()){var l=G(d.value,2),h=l[0],f=l[1];if(/&|=/.test(h)||/&|=/.test(f))return s.debug("sb.addSendbirdExtensions() has failed because the given customData includes at least one invalid character: = or &."),!1}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return a.sendbirdRuntimeEnvironment={sendbirdExtensions:e,deviceOS:t,customData:n},!0},t.prototype.setOnlineListener=function(e){this._onlineDetector.setOnlineListener(e)},t.prototype.setOfflineListener=function(e){this._onlineDetector.setOfflineListener(e)},t.prototype._safeInitializeStore=function(e){return o(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:t=j.of(this._iid).cacheContext,n.label=1;case 1:return n.trys.push([1,3,,5]),[4,t.store.init(e)];case 2:return n.sent(),this._storeInitialized=!0,[3,5];case 3:return n.sent(),t.replaceStore(new Le),[4,this._safeInitializeStore(e)];case 4:return n.sent(),[3,5];case 5:return[2]}}))}))},t.prototype.initializeCache=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i,o,s,u,c;return a(this,(function(a){switch(a.label){case 0:if(t=j.of(this._iid),n=t.sdkState,r=t.cacheContext,i=t.dispatcher,o=t.logger,n.userId&&n.userId===e)return[3,9];if(s="sendbird@".concat(n.appId,"/").concat(e,".db"),!r.localCacheEnabled)return[3,7];a.label=1;case 1:return a.trys.push([1,4,,6]),r.nestdb&&r.nestdb.state!==Ke.CLOSED&&r.nestdb.name===s?[3,3]:((u=r.nestdb=new Ge({name:"sendbird@".concat(n.appId,"/").concat(e,".db"),version:this._getNestDBVersion(),store:r.store})).on("upgrade",dt(u)),u.on("storeReplaced",(function(e){r.replaceStore(e),r.localCacheEnabled=!1,u.on("upgrade",dt(u))})),[4,u.open()]);case 2:a.sent(),this._storeInitialized=!0,i.dispatch(new tt(this._iid,{userId:e})),a.label=3;case 3:return n.userId=e,[3,6];case 4:return c=a.sent(),o.warn("Nest DB Open Failed. ",c),[4,this._safeInitializeStore(s)];case 5:throw a.sent(),n.userId=e,V.databaseError;case 6:return[3,9];case 7:return[4,this._safeInitializeStore(s)];case 8:a.sent(),n.userId=e,a.label=9;case 9:return[2]}}))}))},t.prototype.getCacheDataSize=function(){return o(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return(e=j.of(this._iid).cacheContext).localCacheEnabled&&e.nestdb?[4,e.nestdb.estimateUsage()]:[3,2];case 1:return[2,t.sent()];case 2:return[2,0]}}))}))},t.prototype.clearCachedData=function(){return o(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return(e=j.of(this._iid).cacheContext).localCacheEnabled&&e.nestdb?[4,e.nestdb.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this._storeInitialized?[4,e.preference.clear()]:[3,4];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))},t.prototype.clearCachedMessages=function(e){return o(this,void 0,void 0,(function(){var t,n,r=this;return a(this,(function(i){switch(i.label){case 0:return ee(pe("string",e)).throw(V.invalidParameters),t=We.of(this._iid),n=Be.of(this._iid),t&&n?[4,Promise.all(e.map((function(e){return o(r,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return[4,t.removeMessagesOfChannel(e)];case 1:return r.sent(),[4,n.removeMessagesOfChannel(e)];case 2:return r.sent(),[2]}}))}))})))]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},t.prototype._ready=function(e,t,r){return void 0===r&&(r={}),o(this,void 0,void 0,(function(){var i,o,s,u,c,d,l,h;return a(this,(function(a){switch(a.label){case 0:return ee(n("string",e)&&n("string",t,!0)).throw(V.invalidParameters),i=j.of(this._iid),o=i.sdkState,s=i.cacheContext,u=i.connectionManager,c=i.statLogCollector,d=r.errorForOtherUser,o.userId?[3,2]:[4,u.logout()];case 1:case 3:return a.sent(),[3,5];case 2:return o.userId===e?[3,5]:d?[3,4]:[4,u.logout()];case 4:throw d;case 5:return a.trys.push([5,7,,8]),[4,this.initializeCache(e)];case 6:return a.sent(),j.of(this._iid).dispatcher.dispatch(new nt),[3,8];case 7:return a.sent(),l=j.of(this._iid).logger,s.localCacheEnabled=!1,l.warn("Cache initialization failed - cache is not available."),[3,8];case 8:return[4,s.preference.init(this._getPreferenceCacheKey(e),this._getNestDBVersion())];case 9:return a.sent(),[4,s.preference.get(this._getUserProfileCacheKey(e))];case 10:return(h=a.sent())&&new de(this._iid,h).apply(),[4,c.init("sendbird@".concat(o.appId,"/").concat(e,".statlog"))];case 11:return a.sent(),[2]}}))}))},t.prototype.authenticateFeed=function(e,t){return o(this,void 0,void 0,(function(){var n,r,i;return a(this,(function(o){switch(o.label){case 0:return n=j.of(this._iid),r=n.sessionManager,i=n.connectionManager,[4,this._ready(e,t,{errorForOtherUser:i.isConnected?V.alreadyConnectedAsAnotherUser:void 0})];case 1:return o.sent(),r.session.hasLessServiceScopeThan([ve.FEED])?[4,r.authenticateFeed(e,t)]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2,this.currentUser]}}))}))},t.prototype.connect=function(e,t){return o(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,this._ready(e,t)];case 1:n.sent(),n.label=2;case 2:return n.trys.push([2,,4,5]),[4,j.of(this._iid).connectionManager.connect(t)];case 3:return n.sent(),[3,5];case 4:return this._onlineDetector.start(),this._appStateChangeDetector.start(),[7];case 5:return[2,this.currentUser]}}))}))},t.prototype.reconnect=function(){var e=j.of(this._iid),t=e.connectionManager,n=e.sdkState,r=e.sessionManager.session.hasSession;return r&&(this._appStateChangeDetector.start(),this._onlineDetector.start(),t.resetAndReconnect().then((function(){n.appState="foreground"})).catch((function(){}))),r},t.prototype.disconnect=function(){return o(this,void 0,void 0,(function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return e=j.of(this._iid),t=e.connectionManager,n=e.requestQueue,e.sessionManager,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),n.cancelAll(),[4,t.logout()];case 1:return r.sent(),[4,this.clearCachedData()];case 2:return r.sent(),[2]}}))}))},t.prototype.disconnectWebSocket=function(){return o(this,void 0,void 0,(function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return e=j.of(this._iid),t=e.connectionManager,n=e.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),n.cancelAll(),[4,t.disconnectWebSocket()];case 1:return r.sent(),[2]}}))}))},t.prototype.setBackgroundState=function(){var e=j.of(this._iid),t=e.connectionManager,n=e.sdkState,r=e.logger;"foreground"===n.appState&&(n.appState="background",r.debug("going background state"),t.background())},t.prototype.setForegroundState=function(){var e=j.of(this._iid),t=e.connectionManager,n=e.sdkState,r=e.dispatcher,i=e.logger;"background"===n.appState&&(n.appState="foreground",i.debug("going foreground state"),t.resetAndReconnect(),r.dispatch(new it))},t.prototype.setSessionHandler=function(e){ee(e instanceof xe).throw(V.invalidParameters),j.of(this._iid).sessionManager.handler=e},t.prototype.addUserEventHandler=function(e,t){ee(n("string",e)&&t instanceof ze).throw(V.invalidParameters),j.of(this._iid).userEventHandlers.set(e,t)},t.prototype.removeUserEventHandler=function(e){j.of(this._iid).userEventHandlers.delete(e)},t.prototype.removeAllUserEventHandler=function(){j.of(this._iid).userEventHandlers.clear()},t.prototype.addConnectionHandler=function(e,t){ee(n("string",e)&&t instanceof Qe).throw(V.invalidParameters),j.of(this._iid).connectionHandlers.set(e,t)},t.prototype.removeConnectionHandler=function(e){j.of(this._iid).connectionHandlers.delete(e)},t.prototype.removeAllConnectionHandler=function(){j.of(this._iid).connectionHandlers.clear()},t.prototype.createApplicationUserListQuery=function(e){return void 0===e&&(e={}),new je(this._iid,e)},t.prototype.createBlockedUserListQuery=function(e){return void 0===e&&(e={}),new Fe(this._iid,e)},t.prototype.createFriendListQuery=function(e){return void 0===e&&(e={}),new qe(this._iid,e)},t.prototype.createMessageSearchQuery=function(e){return new He(this._iid,e)},t.prototype.createPollListQuery=function(e){return new te(this._iid,g({},e))},t.prototype.createPollVoterListQuery=function(e){return new ne(this._iid,g({},e))},t.prototype.buildUserFromSerializedData=function(e){var t=re(e);return new p(this._iid,p.payloadify(t))},t.prototype.updateCurrentUserInfo=function(t){return void 0===t&&(t={}),o(this,void 0,void 0,(function(){var r,i,o,s,u,c,d;return a(this,(function(a){switch(a.label){case 0:return r=g(g({},ut),t),ee(function(t){return e(t.profileImage,!0)&&n("string",t.profileUrl,!0)&&n("string",t.nickname,!0)}(r)).throw(V.invalidParameters),this.currentUser?(i=j.of(this._iid),o=i.sdkState,s=i.requestQueue,u=new pt(g({userId:o.userId},r)),[4,s.send(u)]):[3,2];case 1:return c=a.sent(),d=c.as(vt).user,this.currentUser&&(r.nickname&&(this.currentUser.nickname=d.nickname),(r.profileUrl||r.profileImage)&&(this.currentUser.plainProfileUrl=d.profileUrl)),[2,d];case 2:throw V.connectionRequired}}))}))},t.prototype.updateCurrentUserInfoWithPreferredLanguages=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i,o,s;return a(this,(function(a){switch(a.label){case 0:return ee(pe("string",e)).throw(V.invalidParameters),this.currentUser?(t=j.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new pt({userId:n.userId,preferredLanguages:e}),[4,r.send(i)]):[3,2];case 1:return o=a.sent(),s=o.as(vt).user,this.currentUser&&(this.currentUser.preferredLanguages=s.preferredLanguages),[2,s];case 2:throw V.connectionRequired}}))}))},t.prototype.registerFCMPushTokenForCurrentUser=function(e){return o(this,void 0,void 0,(function(){var t,r,i,s,u,c=this;return a(this,(function(d){switch(d.label){case 0:if(ee(n("string",e)).throw(V.invalidParameters),!this.currentUser)return[3,6];d.label=1;case 1:return d.trys.push([1,4,,5]),t=j.of(this._iid),r=t.sessionManager,i=t.sdkState,s=t.requestQueue,r.hasDeviceToken(b.FCM,e)?[2,ge.SUCCESS]:(u=new _t({userId:i.userId,token:e}),[4,s.send(u)]);case 2:return d.sent(),[4,_e((function(){return o(c,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return r.setDeviceToken(b.FCM,e),[4,r.saveDeviceToken()];case 1:return t.sent(),[2]}}))}))}))];case 3:return d.sent(),this._fcmPushToken="",[2,ge.SUCCESS];case 4:return d.sent(),[2,ge.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=e,[2,ge.PENDING];case 7:return[2]}}))}))},t.prototype.unregisterFCMPushTokenForCurrentUser=function(e){return o(this,void 0,void 0,(function(){var t,r,i,s,u,c,d=this;return a(this,(function(l){switch(l.label){case 0:if(ee(n("string",e)).throw(V.invalidParameters),!this.currentUser)return[3,6];l.label=1;case 1:return l.trys.push([1,4,,5]),t=j.of(this._iid),r=t.sessionManager,i=t.sdkState,s=t.requestQueue,u=new bt({userId:i.userId,token:e}),[4,s.send(u)];case 2:return c=l.sent().lastDeletedAt,[4,_e((function(){return o(d,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return r.unsetDeviceToken(b.FCM,e),r.setDeviceTokenDeletedAt(c),[4,r.saveDeviceToken()];case 1:return t.sent(),[2]}}))}))}))];case 3:return l.sent(),this._fcmPushToken="",[2,ge.SUCCESS];case 4:return l.sent(),[2,ge.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=e,[2,ge.PENDING];case 7:return[2]}}))}))},t.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i,s,u=this;return a(this,(function(c){switch(c.label){case 0:return this.currentUser?(e=j.of(this._iid),t=e.sessionManager,n=e.sdkState,r=e.requestQueue,i=new wt({userId:n.userId}),[4,r.send(i)]):[3,3];case 1:return s=c.sent().lastDeletedAt,[4,_e((function(){return o(u,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return t.unsetDeviceTokens(b.FCM),t.setDeviceTokenDeletedAt(s),[4,t.saveDeviceToken()];case 1:return e.sent(),[2]}}))}))}))];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))},t.prototype.registerAPNSPushTokenForCurrentUser=function(e){return o(this,void 0,void 0,(function(){var t,r,i,s,u,c=this;return a(this,(function(d){switch(d.label){case 0:if(ee(n("string",e)).throw(V.invalidParameters),!this.currentUser)return[3,6];d.label=1;case 1:return d.trys.push([1,4,,5]),t=j.of(this._iid),r=t.sessionManager,i=t.sdkState,s=t.requestQueue,r.hasDeviceToken(b.APNS,e)?[2,ge.SUCCESS]:(u=new gt({userId:i.userId,token:e}),[4,s.send(u)]);case 2:return d.sent(),[4,_e((function(){return o(c,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return r.setDeviceToken(b.APNS,e),[4,r.saveDeviceToken()];case 1:return t.sent(),[2]}}))}))}))];case 3:return d.sent(),this._apnsPushToken="",[2,ge.SUCCESS];case 4:return d.sent(),[2,ge.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=e,[2,ge.PENDING];case 7:return[2]}}))}))},t.prototype.unregisterAPNSPushTokenForCurrentUser=function(e){return o(this,void 0,void 0,(function(){var t,r,i,s,u,c,d=this;return a(this,(function(l){switch(l.label){case 0:if(ee(n("string",e)).throw(V.invalidParameters),!this.currentUser)return[3,6];l.label=1;case 1:return l.trys.push([1,4,,5]),t=j.of(this._iid),r=t.sessionManager,i=t.sdkState,s=t.requestQueue,u=new mt({userId:i.userId,token:e}),[4,s.send(u)];case 2:return c=l.sent().lastDeletedAt,[4,_e((function(){return o(d,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return r.unsetDeviceToken(b.APNS,e),r.setDeviceTokenDeletedAt(c),[4,r.saveDeviceToken()];case 1:return t.sent(),[2]}}))}))}))];case 3:return l.sent(),this._apnsPushToken="",[2,ge.SUCCESS];case 4:return l.sent(),[2,ge.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=e,[2,ge.PENDING];case 7:return[2]}}))}))},t.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i,s,u=this;return a(this,(function(c){switch(c.label){case 0:return this.currentUser?(e=j.of(this._iid),t=e.sessionManager,n=e.sdkState,r=e.requestQueue,i=new yt({userId:n.userId}),[4,r.send(i)]):[3,3];case 1:return s=c.sent().lastDeletedAt,[4,_e((function(){return o(u,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return t.unsetDeviceTokens(b.APNS),t.setDeviceTokenDeletedAt(s),[4,t.saveDeviceToken()];case 1:return e.sent(),[2]}}))}))}))];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))},t.prototype.getChannelInvitationPreference=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i;return a(this,(function(o){switch(o.label){case 0:return e=j.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new Ct({userId:t.userId}),[4,n.send(r)];case 1:return i=o.sent(),[2,{autoAccept:i.as(St).autoAccept}]}}))}))},t.prototype.setChannelInvitationPreference=function(e){return o(this,void 0,void 0,(function(){var t,r,i,o,s;return a(this,(function(a){switch(a.label){case 0:return ee(n("boolean",e)).throw(V.invalidParameters),t=j.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Tt({userId:r.userId,willAutoAccept:e}),[4,i.send(o)];case 1:return s=a.sent(),[2,{autoAccept:s.as(Et).autoAccept}]}}))}))},t.prototype.getDoNotDisturb=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i;return a(this,(function(o){switch(o.label){case 0:return e=j.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new Ut({userId:t.userId}),[4,n.send(r)];case 1:return i=o.sent(),[2,i.as(Pt).preference]}}))}))},t.prototype.setDoNotDisturb=function(e,t,r,i,s,u){return void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===u&&(u=""),o(this,void 0,void 0,(function(){var o,c,d,l,h;return a(this,(function(a){switch(a.label){case 0:return ee(n("boolean",e)&&n("number",t)&&n("number",r)&&n("number",i)&&n("number",s)&&n("string",u)).throw(V.invalidParameters),o=j.of(this._iid),c=o.sdkState,d=o.requestQueue,l=new Dt({userId:c.userId,doNotDisturbOn:e,startHour:t,startMin:r,endHour:i,endMin:s,timezone:u}),[4,d.send(l)];case 1:return h=a.sent(),[2,h.as(Ot).preference]}}))}))},t.prototype.getSnoozePeriod=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i;return a(this,(function(o){switch(o.label){case 0:return e=j.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new At({userId:t.userId}),[4,n.send(r)];case 1:return i=o.sent(),[2,i.as(Lt).snoozePeriod]}}))}))},t.prototype.setSnoozePeriod=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=0),o(this,void 0,void 0,(function(){var i,o,s,u,c;return a(this,(function(a){switch(a.label){case 0:return ee(n("boolean",e)&&n("number",t)&&n("number",r)).throw(V.invalidParameters),i=j.of(this._iid),o=i.sdkState,s=i.requestQueue,u=new Nt({userId:o.userId,snoozeOn:e,startTs:t,endTs:r}),[4,s.send(u)];case 1:return c=a.sent(),[2,c.as(Mt).snoozePeriod]}}))}))},t.prototype.getMyPushTokensByToken=function(e,t){return o(this,void 0,void 0,(function(){var r,i,o,s,u,c,d,l,h,f,p,v;return a(this,(function(a){switch(a.label){case 0:return ee(n("string",e)&&me(b,t)).throw(V.invalidParameters),r=j.of(this._iid),i=r.sdkState,o=r.requestQueue,s=r.sessionManager,u=new It({userId:i.userId,type:t,token:e}),[4,o.send(u)];case 1:c=a.sent(),d=c.as(kt).pushTokens;try{for(l=J(d.deviceTokens),h=l.next();!h.done;h=l.next())f=h.value,s.setDeviceToken(d.type,f)}catch(e){p={error:e}}finally{try{h&&!h.done&&(v=l.return)&&v.call(l)}finally{if(p)throw p.error}}return[4,s.saveDeviceToken()];case 2:return a.sent(),[2,d]}}))}))},t.prototype.getPushTriggerOption=function(){return o(this,void 0,void 0,(function(){var e,t,n,r;return a(this,(function(i){switch(i.label){case 0:return e=j.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new Qt({userId:t.userId}),[4,n.send(r)];case 1:return[2,i.sent().as(jt).pushTriggerOption]}}))}))},t.prototype.setPushTriggerOption=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i;return a(this,(function(o){switch(o.label){case 0:return ee(me(be,e)).throw(V.invalidParameters),t=j.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new Ft({userId:n.userId,pushTriggerOption:e}),[4,r.send(i)];case 1:return[2,o.sent().as(qt).pushTriggerOption]}}))}))},t.prototype.getPushTemplate=function(){return o(this,void 0,void 0,(function(){var e,t,n,r;return a(this,(function(i){switch(i.label){case 0:return e=j.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new Ht({userId:t.userId}),[4,n.send(r)];case 1:return[2,i.sent().as(xt).name]}}))}))},t.prototype.setPushTemplate=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i;return a(this,(function(o){switch(o.label){case 0:return ee(me(ye,e)).throw(V.invalidParameters),t=j.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new Gt({userId:n.userId,templateName:e}),[4,r.send(i)];case 1:return[2,o.sent().as(Wt).name]}}))}))},t.prototype.blockUser=function(e){return o(this,void 0,void 0,(function(){var t,r,i,o;return a(this,(function(s){switch(s.label){case 0:return ee(e instanceof p||n("string",e)).throw(V.invalidParameters),t=j.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Rt({userId:r.userId,blockedUserId:e instanceof p?e.userId:e}),[4,i.send(o)];case 1:return s.sent(),[2]}}))}))},t.prototype.blockUserWithUserId=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){return[2,this.blockUser(e)]}))}))},t.prototype.unblockUser=function(e){return o(this,void 0,void 0,(function(){var t,r,i,o;return a(this,(function(s){switch(s.label){case 0:return ee(e instanceof p||n("string",e)).throw(V.invalidParameters),t=j.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new zt({userId:r.userId,unblockedUserId:e instanceof p?e.userId:e}),[4,i.send(o)];case 1:return s.sent(),[2]}}))}))},t.prototype.unblockUserWithUserId=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){return[2,this.unblockUser(e)]}))}))},t.prototype.getFriendChangeLogsByToken=function(e){return o(this,void 0,void 0,(function(){var t,r,i,o,s;return a(this,(function(a){switch(a.label){case 0:return ee(n("string",e)).throw(V.invalidParameters),t=j.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new Bt({userId:r.userId,token:e}),[4,i.send(o)];case 1:return s=a.sent(),[2,s.as(Kt).changelogs]}}))}))},t.prototype.getAllowFriendDiscovery=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i;return a(this,(function(o){switch(o.label){case 0:return e=j.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new en({userId:t.userId}),[4,n.send(r)];case 1:return i=o.sent(),[2,i.as(tn).allowFriendDiscovery]}}))}))},t.prototype.setAllowFriendDiscovery=function(e){return o(this,void 0,void 0,(function(){var t,r,i,o;return a(this,(function(s){switch(s.label){case 0:return ee(n("boolean",e)).throw(V.invalidParameters),t=j.of(this._iid),r=t.sdkState,i=t.requestQueue,o=new nn({userId:r.userId,allowFriendDiscovery:e}),[4,i.send(o)];case 1:return s.sent(),[2,e]}}))}))},t.prototype.uploadFriendDiscoveries=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i,o;return a(this,(function(s){switch(s.label){case 0:return t=j.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new Vt({userId:n.userId,discoveries:e}),[4,r.send(i)];case 1:return o=s.sent(),[2,o.as(Jt).friendDiscoveryRequestId]}}))}))},t.prototype.deleteFriendDiscovery=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){return[2,this.deleteFriendDiscoveries([e])]}))}))},t.prototype.deleteFriendDiscoveries=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i;return a(this,(function(o){switch(o.label){case 0:return ee(pe("string",e)).throw(V.invalidParameters),t=j.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new Xt({userId:n.userId,discoveryKeys:e}),[4,r.send(i)];case 1:return o.sent(),[2]}}))}))},t.prototype.addFriends=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i,o;return a(this,(function(s){switch(s.label){case 0:return ee(pe("string",e)).throw(V.invalidParameters),t=j.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new Yt({userId:n.userId,userIds:e}),[4,r.send(i)];case 1:return o=s.sent(),[2,o.as(Zt).users]}}))}))},t.prototype.deleteFriend=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){return[2,this.deleteFriends([e])]}))}))},t.prototype.deleteFriends=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i;return a(this,(function(o){switch(o.label){case 0:return ee(pe("string",e)).throw(V.invalidParameters),t=j.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new $t({userId:n.userId,userIds:e}),[4,r.send(i)];case 1:return o.sent(),[2]}}))}))},t.prototype.getAllEmoji=function(){return o(this,void 0,void 0,(function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return e=j.of(this._iid).requestQueue,t=new on,[4,e.send(t)];case 1:return n=r.sent(),[2,n.as(sn).emojiContainer]}}))}))},t.prototype.getEmojiCategory=function(e){return o(this,void 0,void 0,(function(){var t,n,r;return a(this,(function(i){switch(i.label){case 0:return t=j.of(this._iid).requestQueue,n=new an({categoryId:e}),[4,t.send(n)];case 1:return r=i.sent(),[2,r.as(un).emojiCategory]}}))}))},t.prototype.getEmoji=function(e){return o(this,void 0,void 0,(function(){var t,n,r;return a(this,(function(i){switch(i.label){case 0:return t=j.of(this._iid).requestQueue,n=new cn({key:e}),[4,t.send(n)];case 1:return r=i.sent(),[2,r.as(dn).emoji]}}))}))},t.prototype.getUIKitConfiguration=function(){return o(this,void 0,void 0,(function(){var e,t,n,r;return a(this,(function(i){switch(i.label){case 0:return e=j.of(this._iid),ee(e.hasExtension("sb_uikit")).throw(V.notSupportedError),t=e.requestQueue,n=new ln,[4,t.send(n)];case 1:return r=i.sent(),[2,r.as(hn).uikitConfiguration]}}))}))},t}();export{ot as Emoji,st as EmojiCategory,at as EmojiContainer,fn as default};
